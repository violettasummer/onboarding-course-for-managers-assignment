"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6896],{14986:(e,t)=>{t.SINGLE_FLIP_CARD_CLICKED="SINGLE_FLIP_CARD_CLICKED",t.singleFlipCardItemClicked=e=>({type:t.SINGLE_FLIP_CARD_CLICKED,payload:{componentId:e}})},17323:(e,t,n)=>{const i=n(58335),{bool:o,func:s,object:r}=n(13980),a=n(2784),{Component:c}=n(58720),p=n(15610),l=n(96235),d=n(44321),m=n(88934),h=n(43855),f=i({displayName:"SingleFlipCard",propTypes:{component:r.isRequired,setComponentAsReady:s.isRequired,setComponentAsViewed:s.isRequired,setComponentAsStarted:s.isRequired,setComponentAsComplete:s.isRequired,singleFlipCardItemClicked:s.isRequired,styles:r,theme:r.isRequired,isLocked:o},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps({component:e}){const{props:t}=this;e._isComplete||!e._isFlipped||t.component._isFlipped||t.setComponentAsComplete(e._id)},onClick(){const{props:e}=this;e.component._hasStarted||e.setComponentAsStarted(e.component._id),e.singleFlipCardItemClicked(e.component._id)},onVisibilityChange(...e){h(...e,this,this.props.setComponentAsViewed)},render(){var e,t,n;const{component:i,styles:o,theme:s,isLocked:r}=this.props,h=null===(e=s._components)||void 0===e||null===(t=e._flipCard)||void 0===t||null===(n=t._settings)||void 0===n?void 0:n._shouldUseComponentItemStyles;return a.createElement(c,{component:i,styles:o,isVisibilitySensorActive:m(this.props),onVisibilityChange:this.onVisibilityChange},a.createElement("div",{className:l(i)},a.createElement(p,{isFlipped:!!i._isFlipped,isLocked:r,contentAlignment:i._flipCardItemContentAlignment,shouldUseFrontImageAsBackImage:!1,hasComponentItemStyles:h,onClick:this.onClick,frontText:i.frontText,frontTextStyles:d(i.frontTextStyles,null,s._swatches),frontGraphic:i._frontGraphic,frontContentGraphic:i._frontContentGraphic,backText:i.backText,backTextStyles:d(i.backTextStyles,null,s._swatches),backGraphic:i._backGraphic,backContentGraphic:i._backContentGraphic})))}});e.exports=f},95912:(e,t,n)=>{const{SINGLE_FLIP_CARD_CLICKED:i}=n(14986);e.exports=(e,t)=>t.type===i?{...e,_isFlipped:!e._isFlipped}:e},15276:(e,t,n)=>{const{registerComponent:i}=n(90876),o=n(63867),s=n(17323),{singleFlipCardItemClicked:r}=n(14986);i("singleFlipCard",{component:s,actions:{singleFlipCardItemClicked:r},reducer:n(95912),trackingMap:n(81634),mapStateToProps:(e,t)=>({isLocked:o(e,t,"article")._isLocked})})},81634:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_isFlipped:{fieldKey:"_isFlipped",type:"Boolean",shouldRestore:!0}}},15610:(e,t,n)=>{const i=n(17620),o=n(58335),{bool:s,func:r,oneOf:a,shape:c,string:p}=n(13980),l=n(2784),d=n(72779),m=n(70913),{isEnterKey:h,isSpaceKey:f}=n(28739),C=n(78120),{Spring:_,config:g,animated:u,interpolate:k}=n(64325),v=n(88078),y=n(11865),b=c({_id:p.isRequired,_type:p.isRequired}),I=c({fontSize:p,color:p,textAlign:p}),x=c({_isBottomPosition:s,src:b}),S=o({displayName:"FlipCardItem",propTypes:{itemId:p,isFlipped:s.isRequired,className:p,hasComponentItemStyles:s.isRequired,onClick:r.isRequired,contentAlignment:a(["top","center","bottom"]).isRequired,frontText:p,frontTextStyles:I,frontGraphic:b,frontContentGraphic:x,backText:p,backTextStyles:I,backGraphic:b,backContentGraphic:x,shouldUseFrontImageAsBackImage:s.isRequired,supportsAdvancedAnimations:s,isLocked:s},getDefaultProps:()=>({isFlipped:!1,hasComponentItemStyles:!1}),getInitialState:()=>({_cardHeight:0,_frontContentHeight:0,_backContentHeight:0}),shouldComponentUpdate(e){const{props:t}=this,n=["frontTextStyles","backTextStyles"];return!C(i(t,n),i(e,n))||!C(e.frontTextStyles,t.frontTextStyles)||!C(e.backTextStyles,t.backTextStyles)},setHeights(){this.setState({_cardHeight:this._front.offsetHeight,_frontContentHeight:this._frontContent.offsetHeight,_backContentHeight:this._backContent.offsetHeight})},onClick(e){e.preventDefault(),this.props.onClick(this.props.itemId)},onKeyDown(e){(h(e)||f(e))&&this.onClick(e)},shouldForceTopAlign(e){const{_cardHeight:t,_frontContentHeight:n,_backContentHeight:i}=this.state;return"front"===e&&n>t||"back"===e&&i>t},getInnerClassName(e,t){if(this.shouldForceTopAlign(t))return d(e,"ev-is-top-alignment");const{contentAlignment:n}=this.props;return d(e,{"ev-is-center-alignment":"center"===n,"ev-is-top-alignment":"top"===n,"ev-is-bottom-alignment":"bottom"===n})},getBackGraphic(e){const{shouldUseFrontImageAsBackImage:t,frontGraphic:n,backGraphic:i,isFlipped:o}=this.props;return{background:`transparent url('${m(t?n:i)}') no-repeat scroll center center / cover`,transform:k([e],(e=>`perspective(800px) rotateY(${e}deg)`)),zIndex:o?10:9}},renderImage(e,t){if(null!=e&&e.src&&!!e._isBottomPosition===t)return l.createElement("div",{className:d("ev-flip-card-item-content-image",{"ev-is-bottom":t})},l.createElement(v,{graphicSrc:e.src,altText:e.alt}))},renderCardFront(){const{props:e}=this,{isFlipped:t}=e;return l.createElement(_,{native:!0,from:{y:0},to:{y:t?180:0},config:g.default},(({y:n})=>l.createElement(u.div,{className:"ev-flip-card-item-front",ref:e=>this._front=e,style:{transform:k([n],(e=>`perspective(800px) rotateY(${e}deg)`)),zIndex:t?9:10}},l.createElement("div",{className:"ev-flip-card-item-front-image"},l.createElement("img",{src:m(e.frontGraphic),"aria-hidden":"true",alt:"",onLoad:this.setHeights})),l.createElement("div",{className:this.getInnerClassName("ev-flip-card-item-front-inner","front"),style:{overflowY:t?"hidden":"auto"},"aria-hidden":t},l.createElement("div",{className:"ev-flip-card-item-content",ref:e=>this._frontContent=e},this.renderImage(e.frontContentGraphic,!1),l.createElement(y,{className:"ev-flip-card-item-front-text",style:e.frontTextStyles,body:e.frontText}),this.renderImage(e.frontContentGraphic,!0))))))},renderCardBack(){const{props:e}=this,{isFlipped:t}=e;return l.createElement(_,{native:!0,from:{y:-180},to:{y:t?0:-180},config:g.default},(({y:n})=>l.createElement(u.div,{className:"ev-flip-card-item-back",style:this.getBackGraphic(n),ref:e=>this._back=e},l.createElement("div",{className:this.getInnerClassName("ev-flip-card-item-back-inner","back"),style:{overflowY:t?"auto":"hidden"},"aria-hidden":!t},l.createElement("div",{className:"ev-flip-card-item-content",ref:e=>this._backContent=e},this.renderImage(e.backContentGraphic,!1),l.createElement(y,{className:"ev-flip-card-item-back-text",style:e.backTextStyles,body:e.backText}),this.renderImage(e.backContentGraphic,!0))))))},render(){var e;const{props:t}=this;return l.createElement("div",{className:d("ev-flip-card-item",t.className,{"ev-flipped":t.isFlipped,"ev-has-component-item-styles":t.hasComponentItemStyles,"ev-has-fallback-flip":t.supportsAdvancedAnimations,"ev-has-svg-flipcard":"svg"===(null===(e=t.frontGraphic)||void 0===e?void 0:e._extension)}),onClick:this.onClick,onKeyDown:this.onKeyDown,tabIndex:t.isLocked?-1:0,role:"button","aria-pressed":t.isFlipped},this.renderCardFront(),this.renderCardBack())}});e.exports=S},88934:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:i}=e;return!0===i&&!0===n._isReady&&!0!==n[t]}},44321:(e,t,n)=>{const i=n(60309);e.exports=function(e,t,n){const o={};if(!e&&!t)return o;let s,r,a;return e&&(s=e._fontSize,r=e._textAlign,e._fontColor&&"transparent"!==e._fontColor&&(a=i(e._fontColor,n))),t&&(t._fontSize&&(s=t._fontSize),t._textAlign&&(r=t._textAlign),t._fontColor&&"transparent"!==t._fontColor&&(a=i(t._fontColor,n))),s&&(o.fontSize=`${s}px`),r&&(o.textAlign=r),a&&(o.color=a),o}},96235:(e,t,n)=>{const i=n(72779);e.exports=e=>i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},43855:e=>{e.exports=function(e,t,n,i,o){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&o&&o(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);