"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7559],{38206:(e,t)=>{t.LINKS_ITEMS_UPDATED="LINKS_ITEMS_UPDATED",t.LINKS_COMPLETE_COMPONENTS_ON_PAGE="LINKS_COMPLETE_COMPONENTS_ON_PAGE",t.linksUpdateItems=(e,n)=>({type:t.LINKS_ITEMS_UPDATED,payload:{componentId:e,items:n}}),t.linksCompleteComponentsOnPage=e=>({type:t.LINKS_COMPLETE_COMPONENTS_ON_PAGE,payload:{componentId:e}})},5494:(e,t,n)=>{var s=n(14859)(n(58527));const i=n(16760),o=n(90882),r=n(55281),l=n(96009),a=n(58335),m=n(13980),d=n(2784),{Component:p}=n(58720),c=n(43726),u=n(96235),_=n(70913),h=n(36998),g=n(88934),I=n(43855),{withRouter:y}=n(77682),C=n(44910),k=a({displayName:"Links",propTypes:{component:m.object.isRequired,components:m.object.isRequired,setComponentAsReady:m.func.isRequired,setComponentAsViewed:m.func.isRequired,setComponentAsStarted:m.func.isRequired,setComponentAsComplete:m.func.isRequired,linksCompleteComponentsOnPage:m.func.isRequired,linksUpdateItems:m.func.isRequired,styles:m.object,screenSize:m.string.isRequired,history:m.object.isRequired,course:m.object.isRequired},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},setItemAsVisited(e){if(e._isVisited)return;const{component:t,linksUpdateItems:n,setComponentAsComplete:s}=this.props,r={...e,_isVisited:!0},l=i(t._items,(e=>e._id===r._id?r:e));n(t._id,l),"click"!==t._setCompletionOn||t._isComplete||o(l,{_isVisited:!0}).length===l.length&&s(t._id)},linksItemClicked(e,t){const{props:n}=this,s=r(n.component._items,{_id:t});if(n.setComponentAsStarted(n.component._id),this.setItemAsVisited(s),s._isInternalLink&&"resources"!==s._type){if(e.preventDefault(),"extensions"===s._type){const e=l(s.link);return"courseAssessment"===e?n.history.push(`/${e}/showResults`):["reflection","certificate"].includes(e)?n.history.push("/downloads"):n.history.push(`/${e}`)}if("additionalContent"===s._type)return n.history.push(`/${s.link}`);if("course"===s._type)return n.history.push("/");if(["contentObjects","articles","blocks","components"].includes(s._type))return h(s.link)}s._shouldCloseWindow&&(e.preventDefault(),s.link&&window.open(s.link,"_blank"),s._shouldCompleteComponentsInPage&&n.linksCompleteComponentsOnPage(n.component._id),window._exitCourse())},onVisibilityChange(...e){const{component:t,setComponentAsViewed:n,setComponentAsComplete:s}=this.props,i="inview"===t._setCompletionOn;I(...e,this,i?s:n)},getIsItemEnabled(e){if(!e._shouldUnlockOnComponent)return!0;if(0===e._components.length)return!0;let t=e._components.length;const n=[];return e._components.forEach((e=>{const s=r(this.props.components,{_refId:e});s||(t-=1),s&&s._isComplete&&n.push(s)})),t===n.length},getResourceLink(e){const t=this.props.course._resources;if(!(t&&t._isEnabled&&t._resourcesItems&&e.link))return"#";const n=t._resourcesItems.find((({_type:t,_asset:n})=>"document"===t&&n&&n._id===e.link));return _(null==n?void 0:n._asset)||"#"},getColumns(){const{screenSize:e,component:{_columns:t}}=this.props;return t?"small"===e?t.mobile||1:"medium"===e?t.tablet||1:t.desktop||1:1},renderItems(){const{component:e}=this.props;return e._items.map((t=>{const n={...t};return"resources"===n._type&&(n._isInternalLink=!1,n._linkTarget="new window"),n._isEnabled=this.getIsItemEnabled(n),"resources"===t._type?n._url=this.getResourceLink(n):t._isInternalLink?n._url="#":n._url=n.link||"#",d.createElement(C,(0,s.default)({key:n._id,component:e,linksItemClicked:this.linksItemClicked},n))}))},render(){const{props:e}=this;return d.createElement(p,{component:e.component,styles:e.styles,onVisibilityChange:this.onVisibilityChange,isVisibilitySensorActive:g(e,"_isComplete")},d.createElement("div",{className:u(e.component)},d.createElement(c,{columns:this.getColumns(),animations:e.component._animations,shouldIgnoreScreenSize:!0},this.renderItems())))}});e.exports=y(k)},44910:(e,t,n)=>{var s=n(14859)(n(58527));const i=n(2784),o=n(72779),r=n(88078),l=n(11865),a=n(10817);e.exports=i.memo((e=>{const t=()=>{const{_isImageLink:t,_graphic:n,_isEnabled:s}=e;if(t&&n){const e=s?n.src:n.disabledSrc,t=s?n.srcAdvanced:n.disabledSrcAdvanced;return i.createElement(r,{className:"ev-links-item-image",graphicSrc:e,graphicSrcAdvanced:t,altText:n.alt,autoSize:!0})}return i.createElement(a,{element:"span",html:e.itemTitle})},n=()=>{const t=e._isImageLink,n=e._isButton&&!t,s=!e._isButton&&!t,i=e._type;return o("ev-links-item-link",{"ev-links-internal":e._isInternalLink,"ev-links-close-window":e._shouldCloseWindow,"ev-links-page-element":e._isInternalLink&&("blocks"===i||"components"===i||"articles"===i),"ev-button":n,"ev-links-anchor":s,"ev-links-image":t,"ev-links-disabled":!e._isEnabled&&!e._isButton,"ev-links-disabled-button":!e._isEnabled&&e._isButton})},m=()=>{if(!e._isInternalLink)switch(e._linkTarget){case"same window":return"_self";case"parent iframe":return"_parent";default:return"_blank"}};return i.createElement("div",{className:`ev-links-item ev-component-item ev-clearfix ev-${e._linkPosition}`},i.createElement("div",{className:(e._isImageLink?"":`ev-${e._linkAlignment} `)+"ev-links-item-container"},(()=>{const o=e._isButton&&"resources"!==e._type;return e._isEnabled?i.createElement("a",(0,s.default)({href:e._url,className:n(),target:m(),onClick:t=>e.linksItemClicked(t,e._id)},o&&{role:"button"}),t()):i.createElement("a",(0,s.default)({className:n()},o&&{role:"button"}),t())})()),e.body&&i.createElement(l,{className:"ev-links-item-body",body:e.body}))}))},86012:(e,t,n)=>{const s=n(92191),i=n(60019),{Observable:o}=n(28761),{updateComponents:r,setComponentAsComplete:l}=n(29933),a=n(63867),m=n(1544),{LINKS_COMPLETE_COMPONENTS_ON_PAGE:d}=n(38206);t.linksCompleteComponentsOnPageEpic=(e,t)=>e.ofType(d).mergeMap((e=>{const n=t.getState(),{components:d}=n,{componentId:p}=e.payload,c=d[p],u=a(n,c,"page"),_=m(n,u,"component"),h=s(_).mapValues((e=>i({},e,{_isComplete:!0}))).keyBy("_id").value();return o.of(r(h),l(p))}))},93304:(e,t,n)=>{const{registerComponent:s,registerEpics:i}=n(90876),o=n(5494),r=n(91904),{linksCompleteComponentsOnPage:l,linksUpdateItems:a}=n(38206),{linksCompleteComponentsOnPageEpic:m}=n(86012);s("links",{component:o,actions:{linksCompleteComponentsOnPage:l,linksUpdateItems:a},reducer:r,mapStateToProps:n(191),trackingMap:n(28522)}),i(m)},191:e=>{e.exports=e=>({components:e.components})},91904:(e,t,n)=>{const{LINKS_ITEMS_UPDATED:s}=n(38206);e.exports=function(e,t){return t.type===s?{...e,_items:t.payload.items}:e}},28522:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0}}}}},43726:(e,t,n)=>{const s=n(92191),i=n(60019),o=n(58335),r=n(2784),l=n(72779),{bool:a,func:m,object:d,number:p,string:c}=n(13980),{connect:u}=n(57903),{Trail:_,config:h,animated:g,interpolate:I}=n(64325),y=n(68387),C=n(13422),k=o({displayName:"Grid",propTypes:{isList:a.isRequired,isRTL:a.isRequired,shouldIgnoreScreenSize:a.isRequired,animations:d,gridItemStyle:d,gridItemInnerStyle:d,windowWidth:p.isRequired,getGridItemInnerStyle:m,hasGridItemInnerPadding:a,className:c,columns:p,separatorBorder:c},getDefaultProps:()=>({isList:!1,isRTL:!1,shouldIgnoreScreenSize:!1,gridItemStyle:{},gridItemInnerStyle:{},hasGridItemInnerPadding:!0,animations:{_slideInX:{_isEnabled:!1},_slideInY:{_isEnabled:!1},_fadeInItem:{_isEnabled:!1},_scaleInItem:{_isEnabled:!1},_easing:"default"}}),getInitialState(){return{columns:this.getColumns(window.innerWidth,this.props.columns),isVisible:!1,_animationEnded:!1}},componentDidMount(){this._isMounted=!0},componentWillUnmount(){this._isMounted=!1},UNSAFE_componentWillReceiveProps(e){const{props:t}=this,n=e.windowWidth!==t.windowWidth,s=t.columns!==e.columns;(n||s)&&this.updateColumns(e.windowWidth,e.columns)},getGridClassName(){return l("ev-grid",this.props.className)},getColumns(e,t){return this.props.shouldIgnoreScreenSize?t:e>=768?t||2:e<768&&e>=520?2:1},updateColumns(e,t){this._isMounted&&this.setState({columns:this.getColumns(e,t)})},getAnimationsEnabled(){const{animations:e}=this.props;let t=!1;return e&&(t=0!==s(e).values().filter({_isEnabled:!0}).value().length),t},getGridItemStyle(e,t,n,s,o,r){const{isRTL:l}=this.props,{_animationEnded:a}=this.state,m=100/this.state.columns,d=i({flex:`${m}%`,textAlign:"center",boxSizing:"border-box",margin:"10px 0"},this.props.gridItemStyle);t&&(d.opacity=n,d.transform=I([s,o,r],((e,t,n)=>`translate(${e}%,${t}%) scale(${n})`)),a&&(d.transform="none"));const p=this.props.children.length%this.state.columns;if((e+1)%this.state.columns!=0&&this.props.separatorBorder&&(d.borderRight=this.props.separatorBorder),0!==p)if(1===p)e===this.props.children.length-1&&(d.margin="auto");else if(e===this.props.children.length-p){let e=m/2;2===p&&4===this.state.columns&&(e=m),l?d.marginRight=`${e}%`:d.marginLeft=`${e}%`}return d},getGridItemInnerStyle(e){const{gridItemInnerStyle:t,getGridItemInnerStyle:n,hasGridItemInnerPadding:s}=this.props,o=n?n(e):{};return i({padding:s?"0 10px":0,boxSizing:"border-box"},t,o)},getVisibilitySensorActive(){return!1===this.state.isVisible},onVisibilityChange(e){e&&this.setState({isVisible:!0})},getSpringTo(){const{isVisible:e}=this.state;return e?{opacity:1,x:0,y:0,scale:1}:C(this.props.animations)},onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderGridItems(e){const{isList:t,children:n,animations:s}=this.props,i=t?g.li:g.div;return e?r.createElement(_,{native:!0,key:n.length,from:C(s),to:this.getSpringTo(),onStart:this.onStart,onRest:this.onRest,config:h[s._easing]||h.default,keys:n.map(((e,t)=>t)),items:n},((e,t)=>({opacity:n,x:s,y:o,scale:l})=>r.createElement(i,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!0,n,s,o,l)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e)))):n.map(((e,t)=>r.createElement(i,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!1)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e))))},render(){const{isList:e}=this.props,t=e?"ul":"div";return this.getAnimationsEnabled()?r.createElement(y,{active:this.getVisibilitySensorActive(),partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:200,onChange:this.onVisibilityChange},r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!0))):r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!1))}});e.exports=u((({device:e,course:t})=>({windowWidth:e.windowWidth,isRTL:t._isRTL})))(k)},88934:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:s}=e;return!0===s&&!0===n._isReady&&!0!==n[t]}},96235:(e,t,n)=>{const s=n(72779);e.exports=e=>s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},43855:e=>{e.exports=function(e,t,n,s,i){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&i&&i(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);