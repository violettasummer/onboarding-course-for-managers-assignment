"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2737],{59520:(e,t,o)=>{var s=o(14859)(o(58527));const n=o(55281),i=o(72579),c=o(16760),d=o(58335),r=o(13980),a=o(2784),l=o(72779),{Component:m}=o(58720),p=o(43726),u=o(80441),_=o(89493),h=o(69722),b=o(97635),k=o(96235),f=o(88934),C=o(43855),y=o(58044),S=d({displayName:"Mcq",propTypes:{component:r.object.isRequired,theme:r.object.isRequired,multichoiceItemSelected:r.func.isRequired,submitQuestion:r.func.isRequired,actionButtonClicked:r.func.isRequired,setComponentAsReady:r.func.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsStarted:r.func.isRequired,showFeedback:r.func.isRequired,resetQuestion:r.func.isRequired,shouldHideMarking:r.bool,isPageReady:r.bool,screenSize:r.string.isRequired,styles:r.object},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){const{component:t}=this.props;e.component._canSubmit&&!t._canSubmit&&!t._isSubmitted&&t._canAutoSubmit&&1===t._selectable&&this.props.submitQuestion(t._id),t._canAutoSubmit&&!t._isSubmitted&&e.component._attemptsLeft>0&&e.component._isSubmitted&&!e.component._isCorrect&&1===t._selectable&&this.props.resetQuestion(t._id)},componentDidUpdate(e){const{component:t}=this.props;!e.component._isSubmitted&&t._isSubmitted&&this.showFeedback(!1)},showFeedback(e=!0){const{component:t,showFeedback:o}=this.props;!1!==t._canShowFeedback&&o(t._shouldUseIndividualItemFeedback&&1===t._selectable?this.getIndividualItemFeedback(n(t._items,"_isSelected")):_(t),e&&t._isComplete?{refocusSelector:".ev-buttons-feedback"}:{})},getIndividualItemFeedback(e){const{_shouldShowDisplayTitleInFeedback:t,displayTitle:o}=this.props.component;return{feedbackTitle:!1===t?null:o,feedbackMessage:e._feedback,feedbackGraphic:e._feedbackGraphic}},onItemClicked(e){const{props:t}=this;t.component._hasStarted||t.setComponentAsStarted(t.component._id),t.multichoiceItemSelected(t.component._id,e)},onVisibilityChange(...e){C(...e,this,this.props.setComponentAsViewed)},renderItems(){const{component:e,shouldHideMarking:t,theme:o}=this.props,s=i(o,"_components._mcq._settings",{_checkboxIcon:"square",_selectedCheckboxIcon:"check-square",_radioIcon:"circle",_selectedRadioIcon:"radio-button",_correctIcon:"check",_inCorrectIcon:"cross"}),n=e[e._selectedAnswerState];return c(n,((o,n)=>a.createElement(y,{key:o._id,index:n,item:o,id:`${e._id}-${o._id}`,name:e._id,isRadio:1===e._selectable,icons:s,isComplete:e._isComplete,isEnabled:e._isEnabled,hasPrefix:e._useCustomItemPrefix,onItemClicked:this.onItemClicked,shouldHideMarking:t})))},renderComponent(e){const{props:t}=this,o=h(t.screenSize),s="small"===t.screenSize?1:2;let n=i(t.component,["_itemsPerRow",o],s)||s;return"full"!==e&&(n=1),a.createElement(p,{columns:n,shouldIgnoreScreenSize:!0,className:`ev-column-layout-${n}`},this.renderItems())},render(){const{props:e}=this;return a.createElement(m,{component:e.component,styles:e.styles,shouldHideMarking:e.shouldHideMarking,onActionButtonClicked:e.actionButtonClicked,onFeedbackButtonClicked:this.showFeedback,isVisibilitySensorActive:f(e),onVisibilityChange:this.onVisibilityChange,additionalAttributes:b(e.component)},a.createElement("div",{className:l(k(e.component),{"ev-mcq-has-prefix":e.component._useCustomItemPrefix})},a.createElement("div",(0,s.default)({className:"ev-mcq-items",role:1===e.component._selectable?"radiogroup":"group",tabIndex:"-1"},u(e.component)),this.renderComponent(e.component._layout))))}});e.exports=S},2914:(e,t,o)=>{const{registerComponent:s}=o(90876),{multichoiceItemSelected:n}=o(96485),i=o(49629);s("mcq",{component:o(59520),actions:{multichoiceItemSelected:n},reducer:i,trackingMap:o(66144)})},66144:(e,t,o)=>{const{store:s}=o(90876);e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_items:{fieldKey:"_items",typeCallback:function(e){const{course:t}=s.getState(),o=t._questionBanks;return e._bankComponentId&&o&&o._isEnabled?"Function":"Array"},shouldRestore:!0,restoreCallback:function(e){return e._items},subMap:{_id:{fieldKey:"_id",type:"String"},_isSelected:{fieldKey:"_isSelected",type:"Boolean",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0}}},_bankComponentId:{fieldKey:"_bankComponentId",type:"String",shouldRestore:!0},_hasUserAnswered:{fieldKey:"_hasUserAnswered",type:"Boolean",shouldRestore:!0},_attemptsLeft:{fieldKey:"_attemptsLeft",type:"Number",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0}}}}]);