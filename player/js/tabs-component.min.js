"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[961],{90887:(e,t)=>{t.TAB_ITEM_SELECTED="TAB_ITEM_SELECTED",t.TAB_ITEM_VIDEO_METRICS="TAB_ITEM_VIDEO_METRICS",t.tabItemSelected=e=>({type:t.TAB_ITEM_SELECTED,payload:e}),t.tabItemVideoMetricsChanged=e=>({type:t.TAB_ITEM_VIDEO_METRICS,payload:e})},12605:(e,t,i)=>{const n=i(72579),s=i(58335),o=i(13980),r=i(2784),a=i(72779),{Component:d}=i(58720),c=i(86587),l=i(96235),m=i(88934),p=i(43855),b=i(15020),v=i(15171),u=s({displayName:"Tabs",propTypes:{component:o.object.isRequired,setComponentAsReady:o.func.isRequired,setComponentAsViewed:o.func.isRequired,setComponentAsComplete:o.func.isRequired,tabItemSelected:o.func.isRequired,styles:o.object,screenSize:o.string.isRequired,tabItemVideoMetricsChanged:o.func.isRequired,animationEnded:o.bool,isRTL:o.bool},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps({component:e}){e._isComplete||e._items.filter((e=>e._isVisited)).length===e._items.length&&this.props.setComponentAsComplete(e._id)},onTabItemSelected(e){this.props.tabItemSelected({componentId:this.props.component._id,itemId:e._id})},onItemVideoMetricsChanged(e,t){const{component:i,tabItemVideoMetricsChanged:n}=this.props;n({componentId:i._id,itemId:e,metrics:t})},onVisibilityChange(...e){p(...e,this,this.props.setComponentAsViewed)},renderContent(e){const{props:t}=this,i=e?b:v;return r.createElement(i,{componentId:t.component._id,items:t.component._items,onTabItemSelected:this.onTabItemSelected,onItemVideoMetricsChanged:this.onItemVideoMetricsChanged,tabTextStyles:t.component._tabTextStyles,animations:t.component._animations,animationEnded:t.animationEnded,isRTL:t.isRTL})},render(){const{props:e}=this,t=e.component.displayTitle?this.context+1:this.context,i="large"===e.screenSize||e.component._alwaysUseLargeView;return r.createElement(d,{component:e.component,styles:e.styles,className:a({"ev-can-truncate-tab-text":n(e.component,"_canTruncateTabText",!0),"ev-tabs-large-view":i,"ev-tabs-small-view":!i}),isVisibilitySensorActive:m(e),onVisibilityChange:this.onVisibilityChange},r.createElement("div",{className:l(e.component)},r.createElement(c.Provider,{value:t},this.renderContent(i))))}});u.contextType=c,e.exports=u},15020:(e,t,i)=>{const n=i(16760),s=i(13980),o=i(2784),r=i(80302),a=i(62138),d=e=>{const t=o.useRef([]);t.current=n(e.items,(()=>o.createRef()));const i=t=>{const i=t+1;return i<e.items.length?i:0},s=t=>{const i=t-1;return i>=0?i:e.items.length-1},d=n=>{const o=e.isRTL?s(n):i(n);t.current[o].current.focus()},c=n=>{const o=e.isRTL?i(n):s(n);t.current[o].current.focus()},l=100/e.items.length;return o.createElement("div",null,o.createElement("div",{className:"ev-tabs-item-container ev-tabs-large ev-clearfix",role:"tablist","aria-labelledby":`title-${e.componentId}`},n(e.items,((i,n)=>o.createElement(r,{ref:t.current[n],key:i._id,id:`${e.componentId}-${i._id}`,index:n,item:i,tabWidth:l,tabTextStyles:e.tabTextStyles,onRightCursorKeyPress:d,onLeftCursorKeyPress:c,onTabItemSelected:e.onTabItemSelected})))),n(e.items,(t=>o.createElement(a,{id:`${e.componentId}-${t._id}`,key:t._id,item:t,onItemVideoMetricsChanged:e.onItemVideoMetricsChanged,animations:e.animations,animationEnded:e.animationEnded}))))};d.propTypes={componentId:s.string,items:s.array,animations:s.object,animationEnded:s.bool,tabTextStyles:s.object,isRTL:s.bool,onTabItemSelected:s.func.isRequired,onItemVideoMetricsChanged:s.func.isRequired},e.exports=d},62138:(e,t,i)=>{const{bool:n,func:s,object:o,string:r}=i(13980),a=i(2784),d=i(58335),c=i(72779),l=i(32823),m=i(70913),p=i(96075),b=i(78435),v=i(69610),u=i(88078),_=i(56249),h=i(11865),S=i(10817),y=i(42451),T=i(89793),g=i(86587),E=d({displayName:"TabsLargeViewContent",propTypes:{id:r.isRequired,item:o.isRequired,onItemVideoMetricsChanged:s.isRequired,animations:o,animationEnded:n},mixins:[l],componentDidUpdate({item:e}){var t;const{item:i}=this.props;var n,s;"video"===b(i)&&i._isSelected&&!e._isSelected&&null!==(t=i._video)&&void 0!==t&&t._shouldAutoPlay&&(null===(n=this._video)||void 0===n||null===(s=n.play)||void 0===s||s.call(n))},onItemVideoMetricsChange(e){this.props.onItemVideoMetricsChanged(this.props.item._id,e)},getContentClassName(){const{_graphic:e,_itemGraphicLayout:t="top"}=this.props.item,i=`ev-clearfix ev-tabs-item-content ev-tabs-item-content-layout-${t}`;if(!p(e))return i;const{_itemGraphicWidth:n="half"}=this.props.item,s="image"===b(this.props.item)&&("right"===t||"left"===t);return c(i,{[`ev-tabs-item-content-graphic-width-${n}`]:s})},renderMedia(){switch(b(this.props.item)){case"image":return this.renderGraphic();case"video":return this.renderVideo();case"videoStream":return this.renderVideoStream();default:return null}},renderGraphic(){const{_graphic:e}=this.props.item;return a.createElement("div",{className:"ev-tabs-item-content-graphic"},a.createElement(u,{graphicSrc:e.src,graphicSrcAdvanced:e.srcAdvanced,altText:e.alt,autoSize:!0,isLightboxEnabled:e._isLightboxEnabled,lightboxSrc:e.lightboxSrc,lightboxSrcAdvanced:e.lightboxSrcAdvanced,isMagnifierEnabled:e._isMagnifierEnabled}))},renderVideo(){var e,t,i,n;const{item:s}=this.props;return a.createElement("div",{className:"ev-tabs-item-content-video"},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(T,{ref:e=>this._video=e,src:m(s._video.mp4),posterSrc:v(s._video.poster),subtitlesSrc:m(null===(e=s._video._subtitles)||void 0===e?void 0:e.src),subtitlesLabel:null===(t=s._video._subtitles)||void 0===t?void 0:t.label,transcriptText:null===(i=s._video._transcript)||void 0===i?void 0:i.body,transcriptButtonText:null===(n=s._video._transcript)||void 0===n?void 0:n.button,metrics:s._metrics,autoPlay:s._video._shouldAutoPlay,onMetricsChange:this.onItemVideoMetricsChange,isVisible:s._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream(){var e,t;const{item:i}=this.props;return a.createElement("div",{className:"ev-tabs-item-content-video"},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(y,{id:this.props.id,service:i._videoStream._service,options:i._videoStream._options,transcriptText:null===(e=i._videoStream._transcript)||void 0===e?void 0:e.body,transcriptButtonText:null===(t=i._videoStream._transcript)||void 0===t?void 0:t.button,isVisible:i._isSelected})))},renderText(){const{item:e}=this.props;return a.createElement("div",{className:"ev-tabs-item-content-text"},a.createElement(S,{element:`h${this.context}`,className:"ev-tabs-item-content-title",html:e.title}),e.body&&a.createElement(h,{className:"ev-tabs-item-content-body",body:e.body}))},renderContent(){const{_itemGraphicLayout:e="top"}=this.props.item;return"top"===e||"left"===e?a.createElement(a.Fragment,null,this.renderMedia(),this.renderText()):a.createElement(a.Fragment,null,this.renderText(),this.renderMedia())},render(){const{props:e}=this;return a.createElement("div",{hidden:!e.item._isSelected,role:"tabpanel",id:`ev-panel-${e.id}`,"aria-labelledby":`ev-tab-${e.id}`},a.createElement("div",{className:this.getContentClassName()},a.createElement(_,{className:"ev-clearfix",animations:e.animations,startAnimation:e.item._isSelected},this.renderContent())))}});E.contextType=g,e.exports=E},80302:(e,t,i)=>{const n=i(2784),s=i(13980),o=i(72779),{isEnterKey:r,isSpaceKey:a,getDirectionKey:d}=i(28739),c=n.forwardRef(((e,t)=>n.createElement("div",{ref:t,id:`ev-tab-${e.id}`,className:o("ev-tabs-item",{"ev-selected":e.item._isSelected,"ev-visited":e.item._isVisited}),style:{width:`${e.tabWidth}%`,maxWidth:`${e.tabWidth}%`},role:"tab","aria-selected":!0===e.item._isSelected,"aria-controls":`ev-panel-${e.id}`,tabIndex:e.item._isSelected?0:-1,onKeyDown:t=>{if(r(t)||a(t))return e.onTabItemSelected(e.item),void t.preventDefault();const i=d(t);"right"===i&&e.onRightCursorKeyPress(e.index),"left"===i&&e.onLeftCursorKeyPress(e.index)},onClick:()=>e.onTabItemSelected(e.item)},n.createElement("div",{className:"ev-tabs-item-inner",style:(()=>{const t={};return e.tabTextStyles?(e.tabTextStyles._fontSize&&(t.fontSize=`${e.tabTextStyles._fontSize}px`),e.tabTextStyles._textAlign&&(t.textAlign=e.tabTextStyles._textAlign),t):t})()},e.item.tabText))));c.displayName="TabsLargeViewNavigationItem",c.propTypes={id:s.string.isRequired,index:s.number.isRequired,item:s.object.isRequired,tabWidth:s.number.isRequired,tabTextStyles:s.object,onLeftCursorKeyPress:s.func.isRequired,onRightCursorKeyPress:s.func.isRequired,onTabItemSelected:s.func.isRequired},e.exports=c},15171:(e,t,i)=>{const n=i(16760),{array:s,bool:o,func:r,object:a,string:d}=i(13980),c=i(2784),l=i(39862),m=e=>c.createElement("div",{className:"ev-tabs-item-container ev-tabs-small ev-clearfix",role:"tablist","aria-labelledby":`title-${e.componentId}`,"aria-orientation":"vertical"},n(e.items,((t,i)=>c.createElement(l,{id:`${e.componentId}-${t._id}`,key:t._id,item:t,index:i,tabTextStyles:e.tabTextStyles,animations:e.animations,animationEnded:e.animationEnded,onTabItemSelected:e.onTabItemSelected,onItemVideoMetricsChanged:e.onItemVideoMetricsChanged}))));m.propTypes={componentId:d,items:s,tabTextStyles:a,animations:a,animationEnded:o,onTabItemSelected:r.isRequired,onItemVideoMetricsChanged:r.isRequired},e.exports=c.memo(m)},39862:(e,t,i)=>{const{bool:n,func:s,object:o,string:r}=i(13980),a=i(2784),d=i(58335),c=i(72779),l=i(32823),m=i(70913),p=i(78435),{isEnterKey:b}=i(28739),v=i(69610),u=i(88078),_=i(56249),h=i(10817),S=i(11865),y=i(86587),T=i(89793),g=i(42451),E=d({displayName:"TabsSmallViewContent",propTypes:{id:r.isRequired,item:o.isRequired,animations:o,animationEnded:n,tabTextStyles:o,onTabItemSelected:s.isRequired,onItemVideoMetricsChanged:s.isRequired},mixins:[l],componentDidUpdate({item:e}){var t;const{item:i}=this.props;var n,s;"video"===p(i)&&i._isSelected&&!e._isSelected&&null!==(t=i._video)&&void 0!==t&&t._shouldAutoPlay&&(null===(n=this._video)||void 0===n||null===(s=n.play)||void 0===s||s.call(n))},onTabsItemClicked(e){e.preventDefault(),this.props.onTabItemSelected(this.props.item)},onKeyDown(e){b(e)&&this.props.onTabItemSelected(this.props.item)},onItemVideoMetricsChange(e){this.props.onItemVideoMetricsChanged(this.props.item._id,e)},getTabTextStyle(){const{props:e}=this,t={};return e.tabTextStyles?(e.tabTextStyles._fontSize&&(t.fontSize=`${e.tabTextStyles._fontSize}px`),e.tabTextStyles._textAlign&&(t.textAlign=e.tabTextStyles._textAlign),t):t},renderMedia(e){const t=this.props.item._itemGraphicLayout;if(e&&"bottom"!==t||!e&&"bottom"===t)return;const i=c("ev-tabs-item-content-media",{"ev-is-bottom":e});switch(p(this.props.item)){case"image":return this.renderGraphic(i);case"video":return this.renderVideo(i);case"videoStream":return this.renderVideoStream(i);default:return null}},renderGraphic(e){const{_graphic:t}=this.props.item;return a.createElement(u,{className:e,graphicSrc:t.src,graphicSrcAdvanced:t.srcAdvanced,altText:t.alt,autoSize:!0,isLightboxEnabled:t._isLightboxEnabled,lightboxSrc:t.lightboxSrc,lightboxSrcAdvanced:t.lightboxSrcAdvanced,isMagnifierEnabled:t._isMagnifierEnabled})},renderVideo(e){var t,i,n,s;const{item:o}=this.props;return a.createElement("div",{className:e},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(T,{ref:e=>this._video=e,src:m(o._video.mp4),posterSrc:v(o._video.poster),subtitlesSrc:m(null===(t=o._video._subtitles)||void 0===t?void 0:t.src),subtitlesLabel:null===(i=o._video._subtitles)||void 0===i?void 0:i.label,transcriptText:null===(n=o._video._transcript)||void 0===n?void 0:n.body,transcriptButtonText:null===(s=o._video._transcript)||void 0===s?void 0:s.button,metrics:o._metrics,autoPlay:o._video._shouldAutoPlay,onMetricsChange:this.onItemVideoMetricsChange,isVisible:o._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream(e){var t,i;const{item:n}=this.props;return a.createElement("div",{className:e},a.createElement("div",{className:"ev-tabs-item-content-video-inner"},a.createElement(g,{id:this.props.id,service:n._videoStream._service,options:n._videoStream._options,transcriptText:null===(t=n._videoStream._transcript)||void 0===t?void 0:t.body,transcriptButtonText:null===(i=n._videoStream._transcript)||void 0===i?void 0:i.button,isVisible:n._isSelected})))},render(){const{props:e}=this;return a.createElement("div",null,a.createElement("div",{className:c("ev-tabs-item",{"ev-selected":e.item._isSelected,"ev-visited":e.item._isVisited}),onClick:this.onTabsItemClicked,onKeyDown:this.onKeyDown,role:"tab",tabIndex:"0",id:`ev-tab-${e.id}`,"aria-selected":!0===e.item._isSelected,"aria-controls":`ev-panel-${e.id}`,style:this.getTabTextStyle()},a.createElement("span",{className:"ev-tabs-item-inner"},e.item.tabText)),a.createElement("div",{className:"ev-tabs-item-content",hidden:!e.item._isSelected,role:"tabpanel",id:`ev-panel-${e.id}`,"aria-labelledby":`ev-tab-${e.id}`},a.createElement(_,{animations:e.animations,startAnimation:!0===e.item._isSelected},this.renderMedia(!1),e.item.title&&a.createElement(h,{element:`h${this.context}`,className:"ev-tabs-item-content-title",html:e.item.title}),e.item.body&&a.createElement(S,{className:"ev-tabs-item-content-body",body:e.item.body}),this.renderMedia(!0))))}});E.contextType=y,e.exports=E},90277:(e,t,i)=>{const n=i(16760),{SETUP_COMPONENT:s}=i(29933),{TAB_ITEM_SELECTED:o,TAB_ITEM_VIDEO_METRICS:r}=i(90887);e.exports=(e,t)=>{switch(t.type){case s:return function(e){const t=e._items.find((e=>e._isSelected));if(e._items.length&&!t){const t=n(e._items,((e,t)=>({...e,_isSelected:0===t,_isVisited:0===t})));return{...e,_items:t}}return e}(e);case o:return function(e,t){const{itemId:i}=t.payload,s=n(e._items,(e=>e._id===i?{...e,_isSelected:!0,_isVisited:!0}:e._isSelected?{...e,_isSelected:!1}:e));return{...e,_items:s}}(e,t);case r:return function(e,t){const i=n(e._items,(e=>e._id===t.payload.itemId?{...e,_metrics:t.payload.metrics}:e));return{...e,_items:i}}(e,t);default:return e}}},56016:(e,t,i)=>{const{registerComponent:n}=i(90876),s=i(12605),o=i(90277),{tabItemSelected:r,tabItemVideoMetricsChanged:a}=i(90887);n("tabs",{component:s,actions:{tabItemSelected:r,tabItemVideoMetricsChanged:a},reducer:o,trackingMap:i(64681)})},64681:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0},_metrics:{fieldKey:"_metrics",type:"Object",shouldRestore:!0}}}}},88934:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:n}=e;return!0===n&&!0===i._isReady&&!0!==i[t]}},78435:(e,t,i)=>{const n=i(72579),s=i(96075);e.exports=e=>{var t,i,o,r,a;const d=n(e,"_mediaType","image");switch(d){case"gif":if(null===(t=e._gif)||void 0===t||!t.src)return;break;case"video":if(null===(i=e._video)||void 0===i||!i.mp4)return;break;case"videoStream":if(null===(o=e._videoStream)||void 0===o||!o._service||null===(r=e._videoStream)||void 0===r||null===(a=r._options)||void 0===a||!a._source)return;break;default:if(!s(e._graphic))return}return d}},96235:(e,t,i)=>{const n=i(72779);e.exports=e=>n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},43855:e=>{e.exports=function(e,t,i,n,s){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&s&&s(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);