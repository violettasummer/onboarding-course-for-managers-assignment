"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3693],{40003:(e,t,n)=>{const i=n(58335),s=n(2784),{array:r,bool:o,func:a,object:m,number:l}=n(13980),{Trail:c,config:u,interpolate:d}=n(64325),p=n(13422),h=i({displayName:"AnimatableItems",propTypes:{startAnimation:o.isRequired,animations:m,renderItem:a.isRequired,maxAnimatable:l,items:r.isRequired},getDefaultProps:()=>({region:!1,startAnimation:!1,animations:{_slideInX:{_isEnabled:!1,_from:0},_slideInY:{_isEnabled:!1,_from:0},_fadeIn:{_isEnabled:!1,_from:0},_scaleIn:{_isEnabled:!1,_from:0},easing:"default"},ariaHidden:!1,maxAnimatable:8}),getSpringTo(){return this.props.startAnimation?{opacity:1,x:0,y:0,scale:1}:p(this.props.animations)},getInterpolatedStyle:({opacity:e,x:t,y:n,scale:i})=>({opacity:e,transform:d([t,n,i],((e,t,n)=>`translate3d(${e}%, ${t}%, 0) scale(${n})`))}),renderAnimatedItems(){const{items:e,animations:t,renderItem:n,maxAnimatable:i}=this.props;let r=e;return"number"==typeof i&&(r=e.slice(0,i)),s.createElement(c,{native:!0,key:r.length,from:p(t),to:this.getSpringTo(),config:u[t._easing]||u.default,keys:r.map(((e,t)=>"string"==typeof e?e:t)),items:r},((e,t)=>i=>n({item:e,style:this.getInterpolatedStyle(i),isAnimated:!0},t)))},renderNonAnimatedItems(){const{items:e,renderItem:t,maxAnimatable:n}=this.props;if("number"==typeof n)return e.slice(n).map(((e,i)=>t({item:e,style:null,isAnimated:!1},i+n)))},render(){return s.createElement(s.Fragment,null,this.renderAnimatedItems(),this.renderNonAnimatedItems())}});e.exports=h},19017:e=>{e.exports=function(e){var t;const n=e.displayTitle,i=null!==(t=e._heroImage)&&void 0!==t&&t._isEnabled?e._heroImage.title:null;return n||i}},8846:(e,t,n)=>{const i=n(72579),{Observable:s}=n(28761),{setLocationReadyState:r,PUSH_LOCATION:o}=n(63444),a=n(36151),m=n(69610);e.exports=e=>(t,n)=>t.filter((({type:t})=>{if(t!==o)return;const{location:i,settings:s}=n.getState();return"menu"===i.currentContentType&&s._menu===e})).switchMap((()=>{const t=n.getState(),{location:o,contentObjects:l,device:c,course:u}=t,{currentId:d}=o,p=d===u._id?u:l[d],h=i(p,[`_${e}`,"_heroImage"]);if(!h||!h._graphic)return s.empty();const I=a(h._graphic.src,h._graphic.srcAdvanced,!0);return I?s.concat(s.of(r(!1)),s.bindCallback(m)(I,!1).map((()=>r(!0)))):s.empty()}))},26618:(e,t,n)=>{const{registerMenu:i,registerEpics:s}=n(90876),r=n(8846),o=n(25751);s(r("boxMenu")),i("boxMenu",o)},25751:(e,t,n)=>{const i=n(72579),s=n(58335),r=n(13980),o=n(2784),{Menu:a}=n(20077),{animated:m}=n(64325),l=n(68387),c=n(40003),u=n(8014),d=s({displayName:"BoxMenu",propTypes:{menu:r.object.isRequired,device:r.object.isRequired,theme:r.object.isRequired,itemIds:r.array.isRequired,hasActionBar:r.bool.isRequired,location:r.object.isRequired},getInitialState:()=>({_isMounted:!1,_isItemsVisible:!1}),componentDidMount(){this._timeout=setTimeout(this.setMounted,200)},componentWillUnmount(){this._timeout&&clearTimeout(this._timeout)},setMounted(){this.setState({_isMounted:!0})},onVisibilityChange(e){const{_isItemsVisible:t}=this.state;!t&&e&&this.setState({_isItemsVisible:!0})},getMenuItemsClassName(){const{props:e}=this,{screenSize:t}=e.device;let n=1;switch(t){case"small":n=this.props.menu._boxMenu._itemsPerRowSmall||1;break;case"medium":n=this.props.menu._boxMenu._itemsPerRowMedium||2;break;case"large":n=this.props.menu._boxMenu._itemsPerRowLarge||2;break;default:n=1}return`ev-menu-items ev-menu-items-layout-${n}`},getShouldShowProgressBars(){const{props:e}=this,t=i(e.theme,"_menu._settings._shouldShowProgressBarsOnMenus","content"),n=i(e.menu,"_boxMenu._shouldShowProgressBarsOnMenus",!0);return"content"===t?n:"true"===t},renderMenuItemsInner(){var e,t,n,s;const{props:r,state:a}=this,l=i(r.menu,"_boxMenu._showCompletionStatusOnMenus",!1),d=null===(e=r.menu._boxMenu)||void 0===e?void 0:e.itemCompletionText,p=i(r.menu,"_boxMenu._shouldShowIconOnMenuItems",!1),h=null===(t=r.theme._menu)||void 0===t||null===(n=t._settings)||void 0===n?void 0:n._durationIcon,I=i(r.menu,"_boxMenu._showCompletionStatusInFooter",!1),_=i(r.menu,"_boxMenu._isVerticalItemLayout",!1),v=null===(s=r.theme._menu)||void 0===s?void 0:s._itemAnimations;return o.createElement("div",{className:"ev-menu-items-inner",role:"list"},o.createElement(c,{items:r.itemIds,startAnimation:a._isItemsVisible,animations:v,renderItem:({item:e,isAnimated:t,style:n})=>o.createElement(u,{key:e,itemId:e,style:n,element:t?m.div:"div",shouldShowProgressBarsOnMenus:this.getShouldShowProgressBars(),shouldShowIconOnMenuItems:p,showCompletionStatusOnMenus:l,showCompletionStatusInFooter:I,itemCompletionText:d,durationIcon:h,isVerticalItemLayout:_})}))},render(){const{props:e,state:t}=this;return o.createElement(a,{className:"ev-box-menu",menu:e.menu,menuSettings:e.menu._boxMenu,device:e.device,theme:e.theme,hasActionBar:e.hasActionBar,location:e.location},o.createElement("div",{className:this.getMenuItemsClassName()},o.createElement(l,{active:t._isMounted&&!t._isItemsVisible,partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:80,onChange:this.onVisibilityChange},this.renderMenuItemsInner())))}});e.exports=d},8014:(e,t,n)=>{var i=n(14859)(n(58527));const s=n(58335),r=n(32823),{any:o,bool:a,number:m,object:l,string:c}=n(13980),u=n(2784),{Link:d}=n(77682),p=n(19017),{MenuItemProgress:h,MenuItemCompletion:I,MenuItemDuration:_,MenuItemLink:v,MenuItemHOC:b}=n(20077),g=n(96075),y=n(57992),M=n(11533),C=n(11865),x=n(50085),S=n(88078),E=n(26558),f=n(86587),k=s({displayName:"BoxMenuItem",propTypes:{item:l.isRequired,style:l,element:o,shouldShowProgressBarsOnMenus:a,shouldShowIconOnMenuItems:a,durationIcon:c,itemCompletionText:c,isComplete:a.isRequired,showCompletionStatusOnMenus:a,showCompletionStatusInFooter:a,pageMenuItemsCompletedCount:m,pageMenuItemsCount:m,completedChildrenAsPercentage:m.isRequired,isVerticalItemLayout:a},mixins:[r],renderItemIcon(){if(!this.props.shouldShowIconOnMenuItems)return;const e="menu"===this.props.item._type?"papers":"document2";return u.createElement(x,{icon:e,className:"ev-menu-item-type-icon"})},renderTitle(){const e=p(this.props.item);if(e)return u.createElement(M,{id:`${this.props.item._id}-title`,headingElement:`h${this.context}`,displayTitle:e,className:"ev-menu-item-title",innerClassName:"ev-menu-item-title-inner"})},renderBody(){if(this.props.item.description)return u.createElement(C,{id:`${this.props.item._id}-description`,body:this.props.item.description,className:"ev-menu-item-body",innerClassName:"ev-menu-item-body-inner"})},renderDuration(){const{duration:e,durationLabel:t}=this.props.item;if(e)return u.createElement(_,{duration:e,durationIcon:this.props.durationIcon,durationLabel:t})},renderCompletionStatus(){const{isComplete:e,showCompletionStatusOnMenus:t,showCompletionStatusInFooter:n}=this.props;if(e&&t&&!n)return u.createElement(I,{itemCompletionText:this.props.itemCompletionText})},renderProgress(){const{props:e}=this;return e.isComplete&&e.showCompletionStatusOnMenus&&e.showCompletionStatusInFooter?u.createElement(I,{itemCompletionText:e.itemCompletionText}):e.shouldShowProgressBarsOnMenus?u.createElement(h,{item:e.item,pageMenuItemsCompletedCount:e.pageMenuItemsCompletedCount,pageMenuItemsCount:e.pageMenuItemsCount,completedChildrenAsPercentage:e.completedChildrenAsPercentage}):void 0},renderLink(){const{item:e}=this.props;return u.createElement(v,{id:e._id,isLocked:e._isLocked,isVisited:e._isVisited,linkText:e.linkText,linkIcon:e.linkIcon,isLinkIconRightPosition:e.isLinkIconRightPosition,link:`/${e._type}/${e._id}`})},renderElements(e){return y("menuItem",e,{item:this.props.item})},renderItemGraphic(){const{item:e}=this.props,t=e._boxMenu;if(!g(t))return;const n=u.createElement(S,{graphicSrc:t.src,graphicSrcAdvanced:t.srcAdvanced,altText:t.alt,autoSize:!0});return u.createElement("div",{className:"ev-menu-item-graphic"},u.createElement("div",{className:"ev-menu-item-graphic-inner"},this.props.item._isLocked?n:u.createElement(d,(0,i.default)({className:"ev-menu-item-graphic-link",to:`/${e._type}/${e._id}`},!t.alt&&{"aria-labelledby":`${e._id}-link-text ${e._id}-title`,"aria-describedby":`${e._id}-description`}),n)))},renderInner(){const{isVerticalItemLayout:e}=this.props;return e?u.createElement("div",{className:"ev-menu-item-inner ev-collection-item-inner ev-box-menu-item-vertical-layout"},u.createElement("div",{className:"ev-collection-item-content-inner ev-clearfix"},this.renderTitle(),this.renderBody(),this.renderItemGraphic(),this.renderCompletionStatus(),this.renderProgress(),this.renderDuration(),this.renderElements("content"),u.createElement("div",{className:"ev-box-menu-item-vertical-layout-actions"},this.renderLink()))):u.createElement("div",{className:"ev-menu-item-inner ev-collection-item-inner"},this.renderItemGraphic(),u.createElement("div",{className:"ev-collection-item-content"},u.createElement("div",{className:"ev-collection-item-content-inner ev-clearfix"},this.renderItemIcon(),this.renderTitle(),this.renderBody(),this.renderDuration(),this.renderCompletionStatus(),this.renderElements("content"))),u.createElement("div",{className:"ev-collection-item-footer"},u.createElement("div",{className:"ev-collection-item-footer-inner ev-clearfix"},this.renderProgress(),this.renderLink())))},render(){const{element:e,item:t,style:n}=this.props;return u.createElement(E,{element:e,id:t._id,style:n,name:"menu item",role:"listitem",className:`ev-menu-item ev-collection-item ev-menu-item-${t._id}`,ariaLabel:t.ariaLabel},this.renderElements("root"),this.renderInner())}});k.contextType=f,e.exports=b(k)}}]);