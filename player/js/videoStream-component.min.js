"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2903],{6020:(e,t,o)=>{const n=o(58335),{func:s,object:i}=o(13980),p=o(2784),{Component:r}=o(58720),a=o(96235),m=o(88934),d=o(43855),l=o(42451),c=n({displayName:"VideoStream",propTypes:{component:i.isRequired,setComponentAsReady:s.isRequired,setComponentAsViewed:s.isRequired,setComponentAsStarted:s.isRequired,setComponentAsComplete:s.isRequired,styles:i},setComponentAsViewed(){this.props.setComponentAsViewed(this.props.component._id)},setComponentAsComplete(){this.props.setComponentAsComplete(this.props.component._id)},onVisibilityChange(...e){d(...e,this,"inview"===this.props.component._setCompletionOn?this.props.setComponentAsComplete:this.props.setComponentAsViewed)},onPlayerReady(){this.props.setComponentAsReady(this.props.component._id)},onPlayerStarted(){const{component:e,setComponentAsStarted:t}=this.props;e._hasStarted||t(e._id),e._isComplete||"play"!==e._setCompletionOn||this.setComponentAsComplete()},onPlayerEnded(){const{component:e}=this.props;e._isComplete||"ended"!==e._setCompletionOn||this.setComponentAsComplete()},onTranscriptViewed(){this.props.component._isComplete||this.setComponentAsComplete()},renderPlayer(){const{_media:e,_service:t}=this.props.component;if(!t||null==e||!e._source)return;const{_id:o,_transcript:n}=this.props.component;return p.createElement(l,{id:o,service:t,options:e,transcriptType:null!=n&&n._shouldOpenTranscriptInPopup?"popup":"collapse",transcriptText:null==n?void 0:n.body,transcriptButtonText:null==n?void 0:n.button,transcriptClassName:"ev-component-body",transcriptInnerClassName:"ev-component-body-inner",onPlayerReady:this.onPlayerReady,onPlayerStarted:this.onPlayerStarted,onPlayerEnded:this.onPlayerEnded,onTranscriptViewed:this.onTranscriptViewed})},render(){const{props:e}=this,t=m(e,"inview"===e.component._setCompletionOn?"_isComplete":"_hasBeenViewed");return p.createElement(r,{component:e.component,styles:e.styles,visibilitySensor:"widget",onVisibilityChange:this.onVisibilityChange,isVisibilitySensorActive:t},p.createElement("div",{className:a(e.component)},this.renderPlayer()))}});e.exports=c},21684:(e,t,o)=>{const{registerComponent:n}=o(90876);n("videoStream",{component:o(6020),trackingMap:o(87368)})},87368:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1}}},88934:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:o,isPageReady:n}=e;return!0===n&&!0===o._isReady&&!0!==o[t]}},96235:(e,t,o)=>{const n=o(72779);e.exports=e=>n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},43855:e=>{e.exports=function(e,t,o,n,s){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&s&&s(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);