"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[822],{15573:(e,t)=>{t.FLOW_CHART_INCREASE_STAGE="FLOW_CHART_INCREASE_STAGE",t.flowChartNextStage=e=>({type:t.FLOW_CHART_INCREASE_STAGE,payload:{componentId:e}})},69089:(e,t,n)=>{var i=n(39322);const o=n(16760),s=n(58335),{bool:r,func:a,object:c,string:l}=n(13980),p=n(2784),m=n(28316),{Component:h}=n(58720),d=n(86587),_=n(88934),u=n(43855),g=n(96235),f=n(23346),v=n(22964),C=s({displayName:"FlowChart",propTypes:{component:c.isRequired,navigation:c.isRequired,setComponentAsReady:a.isRequired,setFocusOnAriaLabel:a.isRequired,setComponentAsViewed:a.isRequired,setComponentAsStarted:a.isRequired,setComponentAsComplete:a.isRequired,flowChartNextStage:a.isRequired,styles:c,screenSize:l.isRequired,isInline:r},getInitialState:()=>({_hasClickedNext:!1}),UNSAFE_componentWillMount(){this._refs=[]},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){const{component:t}=e;t._stage!==t._items.length||t._isComplete||(this.props.setFocusOnAriaLabel(!0),this.props.setComponentAsComplete(t._id))},componentDidUpdate(e){const{props:t}=this;e.component._stage===t.component._stage||t.component._shouldDisableProgessionAnimation||this.scrollToItem(t.component._stage)},scrollToItem(e){const{screenSize:t,navigation:n,isInline:o}=this.props;let s=parseInt(n.navigationOffset,10);"medium"!==t&&"small"!==t||(s=parseInt(n.navigationMobileOffset,10)),o&&(s=i(".appheader").height());const r=m.findDOMNode(this._refs[e-1]);i.scrollTo(r,{offset:{top:-s},duration:800})},onButtonClick(){this.setState({_hasClickedNext:!0}),this.props.component._hasStarted||this.props.setComponentAsStarted(this.props.component._id),this.props.flowChartNextStage(this.props.component._id)},onVisibilityChange(...e){u(...e,this,this.props.setComponentAsViewed)},renderItems(){const{props:e,state:t}=this,n=e.component._items.slice(0,e.component._stage);return o(n,((n,i)=>p.createElement(v,{ref:e=>this._refs[i]=e,key:i,index:i,item:n,screenSize:e.screenSize,animations:e.component._animations,canFocus:e.component._canItemsBeFocused,shouldFocus:e.component._canItemsBeFocused&&t._hasClickedNext&&0!==i&&i+1===e.component._stage})))},renderButton(){const{component:e}=this.props;if(e._items.length!==e._stage)return p.createElement("div",{className:"ev-flowchart-next-item"},p.createElement(f,{icon:"arrow-down-circle",iconSize:30,showPulseAnimation:e._canPulsate,"aria-label":e.nextButtonAriaLabel,onClick:this.onButtonClick}))},render(){const{props:e}=this,t=e.component.displayTitle?this.context+1:this.context;return p.createElement(h,{component:e.component,styles:e.styles,isVisibilitySensorActive:_(e),onVisibilityChange:this.onVisibilityChange},p.createElement("div",{className:g(e.component)},p.createElement("div",{className:"ev-flowchart-items",role:"list"},p.createElement(d.Provider,{value:t},this.renderItems())),this.renderButton()))}});C.contextType=d,e.exports=C},22964:(e,t,n)=>{const i=n(58335),o=n(32823),s=n(2784),r=n(28316),a=n(56249),c=n(11865),l=n(88078),p=n(10817),m=n(96075),h=n(86587),d=i({displayName:"FlowChartItem",mixins:[o],componentDidMount(){this.props.shouldFocus&&r.findDOMNode(this).focus()},getAnimations(){return this.props.animations||{_fadeIn:{_isEnabled:!0,_from:0},_easing:"slow"}},getTitleStyle(){const e={},{_titleSettings:t}=this.props.item;return null!=t&&t._fontSize&&(e.fontSize=`${t._fontSize}px`),null!=t&&t._textAlign&&(e.textAlign=t._textAlign),e},renderTitle(){if(this.props.item.title)return s.createElement("div",{className:"ev-flowchart-item-title"},s.createElement(p,{className:"ev-flowchart-item-title-inner",element:`h${this.context}`,style:this.getTitleStyle(),html:this.props.item.title}))},renderBody(){if(this.props.item.body)return s.createElement(c,{className:"ev-flowchart-item-body",innerClassName:"ev-flowchart-item-body-inner",body:this.props.item.body})},renderText(){return s.createElement("div",{className:"ev-flowchart-item-content-text"},this.renderTitle(),this.renderBody())},renderGraphic(){const{_graphic:e}=this.props.item;if(m(e))return s.createElement("div",{className:"ev-flowchart-item-content-graphic"},s.createElement(l,{graphicSrc:e.src,graphicSrcAdvanced:e.srcAdvanced,altText:e.alt,autoSize:!0,isLightboxEnabled:e._isLightboxEnabled,lightboxSrc:e.lightboxSrc,lightboxSrcAdvanced:e.lightboxSrcAdvanced,isMagnifierEnabled:e._isMagnifierEnabled}))},renderContent(){const{item:e}=this.props;let t="ev-clearfix ev-flowchart-item-content",n="bottom";if(m(e._graphic)){n=e._itemGraphicLayout?e._itemGraphicLayout:"bottom",t+=` ev-flowchart-item-content-layout-${n}`;const i=e._itemGraphicWidth?e._itemGraphicWidth:"half";"right"!==n&&"left"!==n||(t+=` ev-flowchart-item-content-graphic-width-${i}`)}else t+=" ev-flowchart-item-content-no-graphic";return"top"===n||"left"===n?s.createElement("div",{className:t},this.renderGraphic(),this.renderText()):s.createElement("div",{className:t},this.renderText(),this.renderGraphic())},render(){return s.createElement(a,{className:"ev-flowchart-item ev-list-item",tag:"div",role:"listitem",startAnimation:!0,animations:this.getAnimations(),tabIndex:this.props.canFocus?"-1":null},this.renderContent())}});d.contextType=h,e.exports=d},95504:(e,t,n)=>{const{registerComponent:i}=n(90876),o=n(69089),s=n(65610),{flowChartNextStage:r}=n(15573);i("flowChart",{component:o,actions:{flowChartNextStage:r},reducer:s,trackingMap:n(71901),mapStateToProps:({navigation:e})=>({navigation:e})})},65610:(e,t,n)=>{const{SETUP_COMPONENT:i}=n(29933),{FLOW_CHART_INCREASE_STAGE:o}=n(15573);e.exports=(e,t)=>{switch(t.type){case i:return{...e,_stage:e._stage||1};case o:return{...e,_stage:e._stage+1};default:return e}}},71901:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1}}},88934:e=>{e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:i}=e;return!0===i&&!0===n._isReady&&!0!==n[t]}},96235:(e,t,n)=>{const i=n(72779);e.exports=e=>i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},43855:e=>{e.exports=function(e,t,n,i,o){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&o&&o(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);