"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8214],{9217:(e,t,a)=>{const n=a(58335),s=a(2784),{connect:r}=a(57903),i=a(72779),{ContentContainer:o,HeroImage:l}=a(20077),c=a(615),d=a(86587),g=a(11865),v=a(11533),m=a(50085),p=a(72489),h=a(5868),u=n({displayName:"Tags",renderTitle(){if(this.props.tags.title)return s.createElement(v,{headingElement:`h${this.context}`,displayTitle:this.props.tags.title,className:"ev-tags-header-title ev-header-title",innerClassName:"ev-tags-header-title-inner ev-header-title-inner"})},renderDescription(){if(this.props.tags.body)return s.createElement(g,{className:"ev-tags-header-body ev-header-body",innerClassName:"ev-tags-header-body-inner ev-header-body-inner",body:this.props.tags.body})},renderHeroImage(){const{_heroImage:e}=this.props.tags;if(null!=e&&e._isEnabled)return s.createElement(d.Provider,{value:this.props.tags.title?this.context+1:this.context},s.createElement(l,{title:e.title,body:e.body,graphic:e._graphic,_contentWidth:e._contentWidth,layout:e.layout,floatingGraphic:e._floatingGraphic,parentSelector:".ev-extension-hero-container",theme:this.props.theme,isReady:this.props.isReady}))},render(){var e,t,a,n;const{tags:r,theme:l,isReady:g}=this.props,v=r._headerIcon,u=null===(e=l._extensions._tags)||void 0===e||null===(t=e._settings)||void 0===t?void 0:t._headerIcon,_=v||u,E=r.title||null!==(a=r._heroImage)&&void 0!==a&&a._isEnabled&&null!==(n=r._heroImage)&&void 0!==n&&n.title?this.context+1:this.context;return s.createElement(o,{region:"tags",className:"ev-extension ev-tags",ariaLabel:r.ariaLabel},s.createElement("div",{className:"ev-tags-inner ev-extension-inner"},g?null:s.createElement(c,null),s.createElement("div",{className:"ev-extension-hero-container"},this.renderHeroImage()),s.createElement("div",{className:"ev-tags-header ev-header"},s.createElement("div",{className:i("ev-tags-header-inner ev-header-inner ev-clearfix",{"ev-no-graphic":!_})},s.createElement("div",{className:"ev-tags-header-left ev-header-left"},this.renderTitle(),this.renderDescription()),_&&s.createElement("div",{className:"ev-tags-header-right ev-header-right"},s.createElement(m,{icon:_})))),s.createElement(d.Provider,{value:E},s.createElement(p,null,s.createElement(h,this.props)))))}});u.contextType=d,e.exports=r((e=>({tags:e.course._tags,tagsList:e.course._tags._tagsList,components:e.components,theme:e.theme,isReady:e.location.isLocationReady})))(u)},5868:(e,t,a)=>{const n=a(16760),s=a(90882),r=a(58335),i=a(2784),o=a(72779),l=a(60309),c=a(11865),d=a(11533),g=a(86587),v=i.lazy((()=>Promise.all([a.e(9213),a.e(4547)]).then(a.bind(a,58378)).then((e=>Promise.resolve({default:e.Radar}))))),m=r({displayName:"TagsOverview",renderRadarChart(){var e,t;const{components:a,theme:r,tags:o}=this.props,c=n(o._tagsList,(({title:e})=>e)),d=n(o._tagsList,(e=>s(a,(({_tags:t,_isQuestionType:a,_isCorrect:n,_isComplete:s})=>{var r;return!!(null!=t&&t._isEnabled&&null!=t&&null!==(r=t._tagsList)&&void 0!==r&&r.length&&s)&&!!(!a||a&&n)&&t._tagsList.includes(e._id)})))),g=n(d,(e=>e.length));let m=l(r._componentItem._variables._componentItemBackgroundColor["@component-item-background-color"],r._swatches);null!==(e=r._extension)&&void 0!==e&&null!==(t=e._settings)&&void 0!==t&&t._useExtensionStyles&&(m=l(r._extension._variables["@extension-component-item-background-color"],r._swatches));const p={labels:c,datasets:[{label:"Tags",data:g,backgroundColor:"rgba(0,0,0,0.3)",borderColor:m,borderWidth:4,scaleSteps:1,scaleStartValue:0,pointRadius:6,pointBorderWidth:3,pointBackgroundColor:m}]};return i.createElement(i.Suspense,{fallback:i.createElement("div",null)},i.createElement(v,{data:p,options:{scale:{ticks:{min:0,stepSize:1},pointLabels:{fontSize:12}},maintainAspectRatio:!1,legend:{display:!1}},pointStyle:"circle"}))},renderTagCount(e){const{components:t}=this.props,a=s(t,(t=>{var a,n,s;return!(null===(a=t._tags)||void 0===a||!a._isEnabled||null===(n=t._tags)||void 0===n||null===(s=n._tagsList)||void 0===s||!s.length)&&t._tags._tagsList.includes(e._id)}));return n(a,(e=>{let t=!1;return t=e._isQuestionType?e._isComplete&&e._isCorrect:e._isComplete,i.createElement("div",{key:e._id,className:o("ev-tags-count-chart-tag-chart-item",{"ev-selected":t})})}))},renderTagItems(){return n(this.props.tagsList,(e=>i.createElement("div",{key:e._id,className:"ev-tags-count-chart-tag"},i.createElement("div",{className:"ev-tags-count-chart-tag-inner"},i.createElement("div",{className:"ev-tags-count-chart-tag-name"},e.title),i.createElement("div",{className:"ev-tags-count-chart-tag-chart"},this.renderTagCount(e))))))},render(){return i.createElement("div",{className:"ev-tags-overview-container"},i.createElement("div",{className:"ev-tags-overview-container-inner"},i.createElement(d,{headingElement:`h${this.context}`,displayTitle:this.props.tags.overviewTitle,className:"ev-tags-overview-container-title ev-component-title",innerClassName:"ev-tags-overview-container-title-inner ev-component-title-inner"}),i.createElement(c,{className:"ev-tags-overview-container-body ev-component-body",innerClassName:"ev-tags-overview-container-body-inner ev-component-body-inner",body:this.props.tags.overviewBody}),i.createElement("div",{className:"component-widget"},i.createElement("div",{className:"ev-tags-overview-container-content"},i.createElement("div",{className:"ev-tags-overview-container-radar",style:{height:"250px",width:"250px"}},this.renderRadarChart()),i.createElement("div",{className:"ev-tags-overview-container-breakdown"},this.renderTagItems())))))}});m.contextType=g,e.exports=m},35086:(e,t,a)=>{const{Observable:n}=a(28761),{registerTrackingMap:s}=a(90876),{SETUP_APP:r}=a(63444),{addElement:i}=a(51777),{NavigationSideItem:o}=a(39819),l=a(98471),c=a(9217),d=a(20589);t.addTagsElementsEpic=(e,t)=>e.filter((e=>{var a;return e.type===r&&(null===(a=t.getState().course._tags)||void 0===a?void 0:a._isEnabled)})).mergeMap((()=>n.of(i({parent:"navigationSide",name:"tags",component:o,props:{link:"/tags",icon:l("_tags","_navigationIcon","question"),label:t.getState().course._tags.title}}),i({parent:"router",name:"tags",path:"/tags",exact:!0,component:c,getShouldPersist:e=>{var t,a;return null==e||null===(t=e.course)||void 0===t||null===(a=t._tags)||void 0===a?void 0:a._isEnabled}})))),t.registerTrackingMapEpic=(e,t)=>e.filter((e=>{var a;return e.type===r&&(null===(a=t.getState().course._tags)||void 0===a?void 0:a._isEnabled)})).do((()=>{s("tags",d,"extensions")})).ignoreElements()},95510:(e,t,a)=>{const{registerEpics:n}=a(90876),s=a(6443),{addTagsElementsEpic:r,registerTrackingMapEpic:i}=a(35086);n(r,i,s("tags"))},20589:(e,t,a)=>{const n=a(79421),{store:s}=a(90876);e.exports={_tags:{fieldKey:"_tags",type:"Function",shouldRestore:!1,mapCallback:()=>{const e={},{components:t,course:a}=s.getState();return n(a._tags._tagsList,(a=>{e[a._id]={availableComponents:[],completedComponents:[]},n(t,(({_id:t,_tags:n,_isQuestionType:s,_isCorrect:r,_isComplete:i})=>{null!=n&&n._isEnabled&&n._tagsList.length&&n._tagsList.includes(a._id)&&(e[a._id].availableComponents.push(t),(s&&r&&i||!s&&i)&&e[a._id].completedComponents.push(t))}))})),e}}}},98471:(e,t,a)=>{const n=a(72579),{store:s}=a(90876);e.exports=function(e,t,a){const{course:r,theme:i}=s.getState(),o=r[e],l=n(o,t),c=n(i,["_extensions",e,"_settings",t]);return l||c||a}},6443:(e,t,a)=>{const n=a(72579),{Observable:s}=a(28761),{setLocationReadyState:r,PUSH_LOCATION:i}=a(63444),o=a(36151),l=a(69610);e.exports=(e,t)=>(a,c)=>a.filter((({type:t})=>{if(t!==i)return;const{navigationStatus:a,path:n}=c.getState().location;return"plugin"===a&&n[0]===e})).switchMap((()=>{const a=c.getState(),{device:i,course:d}=a;let g;if(g=t?t(a):n(d,[`_${e}`,"_heroImage"]),!g||!g._graphic)return s.empty();const v=o(g._graphic.src,g._graphic.srcAdvanced,!0);return v?s.concat(s.of(r(!1)),s.bindCallback(l)(v,!1).map((()=>r(!0)))):s.empty()}))}}]);