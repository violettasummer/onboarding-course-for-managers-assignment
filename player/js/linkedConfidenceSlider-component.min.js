"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2706],{43296:(e,n)=>{n.SLIDER_VALUE_CHANGED="SLIDER_VALUE_CHANGED",n.sliderValueChanged=(e,t)=>({type:n.SLIDER_VALUE_CHANGED,payload:{componentId:e,value:t}})},52981:(e,n,t)=>{const s=t(58335),{bool:i,func:o,object:l}=t(13980),a=t(2784),{Component:r}=t(58720),d=t(23346),c=t(10817),p=t(69209),m=t(96235),u=t(36998),h=t(88934),C=t(43855),_=s({displayName:"LinkedConfidenceSlider",propTypes:{component:l.isRequired,actionButtonClicked:o.isRequired,setComponentAsReady:o.isRequired,setComponentAsViewed:o.isRequired,setComponentAsStarted:o.isRequired,showFeedback:o.isRequired,sliderValueChanged:o.isRequired,isRTL:i,linkedComponent:l,styles:l},componentDidMount(){const{props:e}=this;void 0===e.component._selectedAnswer&&e.linkedComponent&&e.sliderValueChanged(e.component._id,e.linkedComponent._range._min),e.setComponentAsReady(e.component._id)},componentDidUpdate(e){const{component:n}=this.props;!e.component._isSubmitted&&n._isSubmitted&&this.showFeedback()},onChange(e){const{props:n}=this;n.component._hasStarted||n.setComponentAsStarted(n.component._id),n.sliderValueChanged(n.component._id,e)},onVisibilityChange(...e){C(...e,this,this.props.setComponentAsViewed)},showFeedback(){const{_shouldShowDisplayTitleInFeedback:e,displayTitle:n}=this.props.component,t=this.getFeedbackMessage();if(!t)return;const s=e?n:null;this.props.showFeedback({feedbackTitle:s,feedbackMessage:t})},getFeedbackMessage(){const{component:e}=this.props;if(!e._feedback)return;const n=e._selectedAnswer,t=this.props.linkedComponent._selectedAnswer;return n<t?e._feedback._lessConfidence:n>t?e._feedback._higherConfidence:n===t?e._feedback._matchingConfidence:void 0},renderLinkedIncomplete(){const{component:e}=this.props;return a.createElement("div",{className:"ev-linkedConfidenceSlider-linked-incomplete-message"},a.createElement(c,{className:"ev-linkedConfidenceSlider-linked-incomplete-message-inner ev-label",html:e._linkedIncompleteMessage}),a.createElement(d,{className:"ev-linkedConfidenceSlider-navigate-linked-button",text:e._navigateToLinkedButtonText,onClick:()=>u(e._linkedConfidenceSliderId)}))},renderPreviousConfidence(){const{linkedComponent:e,component:n}=this.props;return a.createElement("div",{className:"ev-linkedConfidenceSlider-range-linked"},a.createElement("div",{className:"linkedConfidenceSlider-range-linked-value ev-label"},a.createElement(c,{element:"span",className:"ev-linkedConfidenceSlider-range-linked-value-text",html:n._labels._previouslySelected}),a.createElement(c,{element:"span",className:"ev-linkedConfidenceSlider-range-linked-value-number ev-rangeslider-range-current-value-number",html:e._selectedAnswer})))},getIsFeedbackButtonEnabled(){const{_isComplete:e,_feedback:n,_shouldDisplayFeedbackInline:t}=this.props.component;return e&&n&&!t},render(){var e,n,t;const{props:s}=this;return a.createElement(r,{component:s.component,styles:s.styles,isVisibilitySensorActive:h(s),onVisibilityChange:this.onVisibilityChange,hasQuestionButtons:null===(e=s.linkedComponent)||void 0===e?void 0:e._isComplete,shouldHideMarking:!0,isFeedbackEnabled:this.getIsFeedbackButtonEnabled(),onFeedbackButtonClicked:this.showFeedback,onActionButtonClicked:s.actionButtonClicked},a.createElement("div",{className:m(s.component)},(null===(n=s.linkedComponent)||void 0===n?void 0:n._isComplete)&&a.createElement(p,{value:s.component._selectedAnswer,step:s.linkedComponent._step,min:s.linkedComponent._range._min,max:s.linkedComponent._range._max,isDisabled:s.component._isComplete,onChange:this.onChange,labels:{min:s.linkedComponent._labels._min,max:s.linkedComponent._labels._max,selected:s.component._labels._selected,aria:s.component._labels.aria},isRTL:s.isRTL}),null!==(t=s.linkedComponent)&&void 0!==t&&t._isComplete?this.renderPreviousConfidence():this.renderLinkedIncomplete()))}});e.exports=_},61871:(e,n,t)=>{const s=t(92191),{Observable:i}=t(28761),{COMPONENT_COMPLETED:o,updateComponents:l}=t(29933);n.confidenceSliderCompletedEpic=(e,n)=>e.ofType(o).mergeMap((({payload:e})=>{const{components:t}=n.getState(),o=t[e.componentId];if("confidenceSlider"!==o._component)return i.empty();const a=s(t).filter((e=>"linkedConfidenceSlider"===e._component&&e._linkedConfidenceSliderId===o._refId&&!e._isComplete)).mapValues((e=>({...e,_selectedAnswer:o._selectedAnswer}))).keyBy("_id").value();return i.of(l(a))}))},42040:(e,n,t)=>{const{registerComponent:s,registerEpics:i}=t(90876),o=t(52981),l=t(21325),{sliderValueChanged:a}=t(43296),{confidenceSliderCompletedEpic:r}=t(61871),d=t(92397),c=t(9239);i(r),s("linkedConfidenceSlider",{component:o,actions:{sliderValueChanged:a},reducer:l,mapStateToProps:d,trackingMap:c})},92397:(e,n,t)=>{const s=t(63867),i=t(58014);e.exports=(e,n)=>({theme:e.theme,articleStyle:s(e,n,"article")._classes,buttons:e.course._buttons,linkedComponent:i(n._linkedConfidenceSliderId)})},21325:(e,n,t)=>{const{SUBMIT_QUESTION:s}=t(29933),{SLIDER_VALUE_CHANGED:i}=t(43296);e.exports=(e,n)=>{switch(n.type){case i:return{...e,_selectedAnswer:n.payload.value};case s:return{...e,_canSubmit:!0,_isCorrect:!0};default:return e}}},9239:e=>{e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_selectedAnswer:{fieldKey:"_selectedAnswer",type:"Number",shouldRestore:!0}}},69209:(e,n,t)=>{const s=t(58335),{bool:i,func:o,number:l,shape:a,string:r}=t(13980),d=t(2784),c=t(72779),p=t(68702).default,m=t(10817),u=s({displayName:"RangeSlider",propTypes:{labels:a({min:r.isRequired,max:r.isRequired,selected:r.isRequired,aria:r}),defaultValue:l,value:l,min:l.isRequired,max:l.isRequired,step:l.isRequired,onChange:o.isRequired,onAfterChange:o,onBeforeChange:o,isDisabled:i.isRequired,isRTL:i},getInitialState:()=>({hasBeenResized:!1}),getDefaultProps:()=>({isDisabled:!1}),renderRangeLabels(){if(this.props.labels)return d.createElement("div",{className:"ev-rangeslider-range-labels"},d.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},d.createElement(m,{className:"ev-rangeslider-range-min ev-label",html:`${this.props.labels.min}`}),d.createElement(m,{className:"ev-rangeslider-range-max ev-label",html:`${this.props.labels.max}`})))},renderSelectedLabel(){var e;if(null!==(e=this.props.labels)&&void 0!==e&&e.selected)return d.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},d.createElement(m,{element:"span",className:"ev-rangeslider-range-current-value-text",html:`${this.props.labels.selected}`}),d.createElement(m,{element:"span",className:"ev-rangeslider-range-current-value-number",html:`${this.props.value}`}))},onBeforeChange(){var e,n;this.state.hasBeenResized||(this._slider.resize(),this.setState({hasBeenResized:!0})),null===(e=(n=this.props).onBeforeChange)||void 0===e||e.call(n)},render(){var e;const{props:n}=this;return d.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),d.createElement("div",{className:"ev-slider-container"},d.createElement(p,{ariaLabel:null===(e=n.labels)||void 0===e?void 0:e.aria,ref:e=>this._slider=e,value:n.value,defaultValue:n.defaultValue,min:n.min,max:n.max,step:n.step,onChange:n.onChange,onAfterChange:n.onAfterChange,onBeforeChange:this.onBeforeChange,className:c("ev-rangeslider",{"ev-rangeslider--disabled":n.isDisabled}),thumbClassName:"ev-rangeslider__handle",trackClassName:"ev-rangeslider__bar",disabled:n.isDisabled,invert:n.isRTL}),this.renderSelectedLabel()))}});e.exports=u},88934:e=>{e.exports=(e,n="_hasBeenViewed")=>{const{component:t,isPageReady:s}=e;return!0===s&&!0===t._isReady&&!0!==t[n]}},96235:(e,n,t)=>{const s=t(72779);e.exports=e=>s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})},43855:e=>{e.exports=function(e,n,t,s,i){s&&s.props&&s.props.component?(n.top&&(s.isInviewTop=!0),n.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&i&&i(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}}}]);