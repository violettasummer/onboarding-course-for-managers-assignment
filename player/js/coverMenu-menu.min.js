"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9564],{68374:(e,t,i)=>{const s=i(72579),n=i(58335),{bool:r,func:o,node:a,number:l,object:c,string:d}=i(13980),h=i(2784),m=i(72779),{Spring:u,config:p,animated:v}=i(64325),{connect:g}=i(57903),_=n({displayName:"Carousel",propTypes:{children:a.isRequired,currentIndex:l,initialIndex:l,animations:c,verticalAlignment:d,className:d,isRTL:r,displayAsList:r,_ref:o},getInitialState:()=>({_animationEnded:!1,_canAnimateItemTransform:!1}),UNSAFE_componentWillReceiveProps(e){const{currentIndex:t}=this.props;t!==e.currentIndex&&this.setState({_canAnimateItemTransform:!0})},getDefaultProps:()=>({currentIndex:0,initialIndex:0,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!1},_scaleIn:{_isEnabled:!1},_easing:"default"},displayAsList:!0}),onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderCarousel(){const{currentIndex:e,initialIndex:t,animations:i}=this.props,s=100*t,n=100*e;return i._slideIn?h.createElement(u,{native:!0,from:{x:s},to:{x:n},config:p[i._easing]||p.default},(({x:e})=>this.renderCarouselInner(e,!0))):this.renderCarouselInner(n)},renderCarouselInner(e,t){const{verticalAlignment:i,isRTL:s,displayAsList:n}=this.props,r=`ev-carousel-inner ev-vertical-align-${(null==i?void 0:i.toLowerCase())||"normal"}`,o=s?"":"-",a={left:t?e.interpolate((e=>`${o}${e}%`)):`${o}${e}%`},l=n?"ul":"div",c=t?v[l]:l;return h.createElement(c,{className:r,style:a},this.renderCarouselItems())},getItemStyle(e,t){const{_animationEnded:i,_canAnimateItemTransform:s}=this.state,n={opacity:e,transform:t.interpolate((e=>`scale(${e})`))};return!i&&s||(n.transform="none"),n},renderCarouselItems(){const{displayAsList:e,children:t,currentIndex:i,animations:s}=this.props,n=e?v.li:v.div;return t.map(((e,t)=>{const r=t===i,{_fadeIn:o,_scaleIn:a}=s;return h.createElement(u,{native:!0,key:t,from:{opacity:o&&o._isEnabled?o._from/100:.99,scale:a&&a._isEnabled?a._from/100:1},to:{opacity:o&&o._isEnabled?r?1:o._from/100:1,scale:a&&a._isEnabled?r?1:a._from/100:1},config:p[s._easing]||p.default,onStart:this.onStart,onRest:this.onRest},(({opacity:t,scale:i})=>h.createElement(n,{className:"ev-carousel-item","aria-hidden":!r,style:this.getItemStyle(t,i)},e)))}))},render(){return h.createElement("div",{ref:this.props._ref,className:m("ev-carousel",this.props.className)},this.renderCarousel())}});e.exports=g((({course:e,device:t})=>({isRTL:s(e,"_isRTL",!1),windowWidth:t.windowWidth})))(_)},7262:(e,t,i)=>{const s=i(58335),n=i(13980),r=i(2784),o=i(28316),a=s({displayName:"Swipeable",propTypes:{onSwipe:n.func.isRequired,threshold:n.number,allowedTime:n.number,restraint:n.number},getDefaultProps:function(){return{threshold:30,allowedTime:400,restraint:100}},getInitialState:function(){return{_startX:0,_startY:0,_startTime:0}},onTouchStart:function(e){const t=e.changedTouches[0];this.setState({_startX:t.pageX,_startY:t.pageY,_startTime:(new Date).getTime()}),e.target===o.findDOMNode(this)&&e.preventDefault()},onTouchMove:function(){},onTouchEnd:function(e){const t=e.changedTouches[0],i=t.pageX-this.state._startX,s=t.pageY-this.state._startY,n=(new Date).getTime()-this.state._startTime;let r="none";n<=this.props.allowedTime&&(Math.abs(i)>=this.props.threshold&&Math.abs(s)<=this.props.restraint?r=i<0?"left":"right":Math.abs(s)>=this.props.threshold&&Math.abs(i)<=this.props.restraint&&(r=s<0?"up":"down"));const a={direction:r,speed:{x:i/n,y:s/n},distance:{x:i,y:s},timeTaken:n};this.props.onSwipe(a),this.setState({_startX:0,_startY:0,_startTime:0}),e.target===o.findDOMNode(this)&&e.preventDefault()},render:function(){return r.createElement("div",{className:"ev-swipeable",onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},this.props.children)}});e.exports=a},19017:e=>{e.exports=function(e){var t;const i=e.displayTitle,s=null!==(t=e._heroImage)&&void 0!==t&&t._isEnabled?e._heroImage.title:null;return i||s}},41263:(e,t,i)=>{const s=i(27875),n=i(54073),r=i(72579),o=i(16760),a=i(58335),{array:l,bool:c,func:d,object:h}=i(13980),m=i(2784),{connect:u}=i(57903),p=i(72779),{Transition:v,interpolate:g}=i(64325),_=i(23346),y=i(68374),I=i(7262),f=i(14755),b=i(57992),{setAriaLive:E}=i(28543),C=i(81719),S=i(23384),T=a({displayName:"CoverMenu",propTypes:{menu:h.isRequired,device:h.isRequired,theme:h.isRequired,itemIds:l.isRequired,hasActionBar:c.isRequired,location:h.isRequired,setAriaLive:d.isRequired,classList:l,isRTL:c.isRequired},getInitialState(){const e=this.getInitialStage();return{_isCoverVisible:!this.props.menu._isVisited,_stage:e,_initialStage:e,_height:window.innerHeight,_width:window.innerWidth}},componentDidMount(){this.setSize(),this.props.device.touch&&window.addEventListener("scroll",this.onWindowScroll),this.props.menu.ariaLabel&&this.props.setAriaLive({message:this.props.menu.ariaLabel,delay:200})},componentDidUpdate(e,t){if(t._isCoverVisible&&!this.state._isCoverVisible){var i,s;const e=this.props.itemIds[this.state._stage],t=document.getElementById(`${e}-title`);null==t||null===(i=t.firstChild)||void 0===i||null===(s=i.focus)||void 0===s||s.call(i)}},UNSAFE_componentWillReceiveProps({device:e}){e!==this.props.device&&this.setSize()},componentWillUnmount(){this.props.device.touch&&window.removeEventListener("scroll",this.onWindowScroll)},onWindowScroll:n((function(){this.state._isCoverVisible||window.scrollTo(0,0)}),300),getInitialStage(){const{previousId:e}=this.props.location;if(!e)return 0;const t=this.props.itemIds.indexOf(e);return-1===t?0:t},setSize(){this.setState({_height:this.getHeight(),_width:this.getWidth()})},getHeight(){const e=document.querySelector(".ev-content-container");return window.innerHeight-e.offsetTop},getWidth:()=>document.querySelector(".ev-content-container").getBoundingClientRect().width,onCarouselSwipe(e){if(!["left","right"].includes(e.direction))return;const t="left"===e.direction?this.state._stage+1:this.state._stage-1;this.setState({_stage:s(t,0,this.props.itemIds.length-1)})},getClassName(){const{props:e}=this;return p("ev-menu",e.classList,{"ev-use-menu-header-styles":e.theme._menu._settings._useMenuHeaderStyles})},renderCover(){const{menu:e,theme:t,device:i,hasActionBar:s}=this.props;return m.createElement(v,{native:!0,items:this.state._isCoverVisible,from:{opacity:0,y:0},enter:{opacity:1,y:0},leave:{opacity:0,y:-100}},(n=>n&&(({opacity:n,y:r})=>{var o,a,l;return m.createElement(S,{key:"cover",style:{opacity:n,transform:g([r],(e=>`translateY(${e}%)`))},title:e.displayTitle,body:e.body,shouldHideHeader:e._hidePageHeader,height:this.state._height,src:null===(o=e._coverMenu)||void 0===o?void 0:o.src,srcAdvanced:null===(a=e._coverMenu)||void 0===a?void 0:a.srcAdvanced,buttonText:(null===(l=e._coverMenu)||void 0===l?void 0:l._coverButtonText)||"View",actionBarElements:b("menu","actionBar",{menu:e}),displayTitleSettings:e._displayTitleSettings,onCoverButtonClicked:()=>this.setState({_isCoverVisible:!1},(()=>this.setSize())),theme:t,device:i,hasActionBar:s})})))},renderIndicators(){return o(this.props.itemIds,((e,t)=>m.createElement("li",{key:e},m.createElement(_,{text:`${t+1}`,className:"ev-carousel-indicator",isDisabled:t===this.state._stage,"aria-current":t===this.state._stage,onClick:()=>this.setState({_stage:t})}))))},renderCarousel(){return m.createElement(I,{onSwipe:this.onCarouselSwipe},m.createElement("div",{className:"ev-cover-carousel",style:{width:`${this.state._width}px`,visibility:this.state._isCoverVisible?"hidden":"visible"}},this.renderCarouselLeftControl(),m.createElement(y,{currentIndex:this.state._stage,initialIndex:this.state._initialStage,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!0,_from:50},_scaleIn:{_isEnabled:!1},_easing:"slow"}},this.renderItems()),this.renderCarouselRightControl(),m.createElement("div",{className:"ev-carousel-indicators"},m.createElement("ul",{className:"ev-carousel-indicators-inner"},m.createElement("li",null,m.createElement(_,{className:"ev-carousel-indicator",icon:"home4","aria-label":this.props.menu._coverMenu.homeButtonAriaLabel,onClick:()=>this.setState({_stage:0,_isCoverVisible:!0})})),this.renderIndicators()))))},renderCarouselLeftControl(){const{isRTL:e,menu:t}=this.props;return m.createElement(_,{className:p("ev-carousel-control",{"ev-carousel-control-left":!e,"ev-carousel-control-right":e}),icon:e?"arrow-right":"arrow-left","aria-label":t._coverMenu.prevButtonAriaLabel,isDisabled:0===this.state._stage,onClick:()=>this.setState({_stage:this.state._stage-1})})},renderCarouselRightControl(){const{isRTL:e,menu:t}=this.props;return m.createElement(_,{className:p("ev-carousel-control",{"ev-carousel-control-right":!e,"ev-carousel-control-left":e}),icon:e?"arrow-left":"arrow-right","aria-label":t._coverMenu.nextButtonAriaLabel,isDisabled:this.state._stage===this.props.itemIds.length-1,onClick:()=>this.setState({_stage:this.state._stage+1})})},getShouldShowProgressBars(){const{props:e}=this,t=r(e.theme,"_menu._settings._shouldShowProgressBarsOnMenus","content"),i=r(e.menu,"_coverMenu._shouldShowProgressBarsOnMenus",!0);return"content"===t?i:"true"===t},renderItems(){var e,t;const i=this.getShouldShowProgressBars(),s=null===(e=this.props.theme._menu)||void 0===e||null===(t=e._settings)||void 0===t?void 0:t._durationIcon;return o(this.props.itemIds,((e,t)=>m.createElement(C,{key:e,itemId:e,width:this.state._width,height:this.state._height,isCurrentItem:t===this.state._stage,shouldShowProgressBarsOnMenus:i,durationIcon:s})))},render(){const{classList:e,menu:t,theme:i}=this.props;return m.createElement("main",{className:p("ev-menu",e,{"ev-use-menu-header-styles":i._menu._settings._useMenuHeaderStyles}),tabIndex:"-1"},m.createElement("div",{className:"ev-cover-menu"},f(t),this.renderCover(),this.renderCarousel()))}});e.exports=u((e=>({isRTL:e.course._isRTL})),{setAriaLive:E})(T)},23384:(e,t,i)=>{const s=i(12436),n=i(58335),{bool:r,element:o,func:a,number:l,object:c,string:d}=i(13980),h=i(2784),{animated:m}=i(64325),u=i(72779),p=i(72954),v=i(36151),g=i(23346),_=i(11865),y=i(11533),I=i(86587),f=n({displayName:"CoverMenuCover",propTypes:{theme:c.isRequired,height:l.isRequired,title:d,body:d,buttonText:d,device:c.isRequired,hasActionBar:r.isRequired,actionBarElements:o.isRequired,onCoverButtonClicked:a.isRequired,src:c,srcAdvanced:c,style:c,displayTitleSettings:c},getInitialState:()=>({_overrideHeight:null}),componentDidMount(){this.setContentHeight()},UNSAFE_componentWillReceiveProps({device:e}){e!==this.props.device&&this.setContentHeight()},setContentHeight:s((function(){const{offsetHeight:e}=this._content;this.setState({_overrideHeight:e>this.props.height?e:null})}),100),getHeaderClass(){return u("ev-menu-header ev-header",{"ev-header-with-action-bar":this.props.hasActionBar})},getStyle(){return{height:this.state._overrideHeight?`${this.state._overrideHeight}px`:`${this.props.height}px`,backgroundImage:`url(${v(this.props.src,this.props.srcAdvanced,!0)})`,...this.props.style}},renderTitle(){if(this.props.title)return h.createElement(y,{headingElement:`h${this.context}`,displayTitle:this.props.title,displayTitleSettings:this.props.displayTitleSettings,className:"ev-menu-title ev-header-title",innerClassName:"ev-menu-title-inner ev-header-title-inner"})},renderBody(){if(this.props.body)return h.createElement(_,{body:this.props.body,className:"ev-menu-body ev-header-body",innerClassName:"ev-menu-body-inner ev-header-body-inner"})},renderHeader(){const e=this.props.theme._menu._settings;return null!=e&&e._hideMenuHeader?null:this.props.title||this.props.body?h.createElement("div",{className:this.getHeaderClass(),style:p(!0)},h.createElement("div",{className:"ev-menu-header-inner ev-header-inner"},this.renderTitle(),this.renderBody())):void 0},render(){return h.createElement(m.div,{className:"ev-cover-menu-cover",style:this.getStyle(),key:"cover"},h.createElement("div",{className:"ev-menu-container",ref:e=>this._content=e},h.createElement("div",{className:"ev-menu-container-inner"},this.renderHeader(),h.createElement("div",{className:"ev-action-bar-container"},h.createElement(I.Provider,{value:this.props.title?this.context+1:this.context},this.props.actionBarElements)),h.createElement("div",{className:"ev-cover-actions"},h.createElement(g,{text:this.props.buttonText,className:"ev-menu-item-view-button",onClick:this.props.onCoverButtonClicked})))))}});f.contextType=I,e.exports=f},81719:(e,t,i)=>{const s=i(58335),{bool:n,number:r,object:o,string:a}=i(13980),l=i(2784),c=i(72779),d=i(19017),h=i(14755),m=i(36151),u=i(57992),{MenuItemProgress:p,MenuItemDuration:v,MenuItemLink:g,MenuItemHOC:_}=i(20077),y=i(11533),I=i(11865),f=i(32823),b=s({displayName:"CoverMenuItem",propTypes:{item:o.isRequired,isCurrentItem:n,shouldShowProgressBarsOnMenus:n,durationIcon:a,width:r.isRequired,height:r.isRequired,pageMenuItemsCompletedCount:r,pageMenuItemsCount:r,completedChildrenAsPercentage:r.isRequired},mixins:[f],renderTitle(){const e=d(this.props.item);if(e)return l.createElement(y,{id:`${this.props.item._id}-title`,headingElement:"h2",displayTitle:e,className:"ev-menu-item-title",innerClassName:"ev-menu-item-title-inner",tabIndex:"-1"})},renderBody(){if(this.props.item.description)return l.createElement(I,{body:this.props.item.description,id:`${this.props.item._id}-description`,className:"ev-menu-item-body",innerClassName:"ev-menu-item-body-inner"})},renderDuration(){const{duration:e,durationLabel:t}=this.props.item;if(e)return l.createElement(v,{duration:e,durationIcon:this.props.durationIcon,durationLabel:t})},renderProgress(){const{props:e}=this;if(e.shouldShowProgressBarsOnMenus)return l.createElement(p,{item:e.item,pageMenuItemsCompletedCount:e.pageMenuItemsCompletedCount,pageMenuItemsCount:e.pageMenuItemsCount,completedChildrenAsPercentage:e.completedChildrenAsPercentage})},renderLink(){const{item:e}=this.props;return l.createElement(g,{id:e._id,isLocked:e._isLocked,isVisited:e._isVisited,linkText:e.linkText,linkIcon:e.linkIcon,isLinkIconRightPosition:e.isLinkIconRightPosition,link:`/${e._type}/${e._id}`})},getItemStyle(){const e={width:`${this.props.width}px`,height:`${this.props.height}px`};if(!this.props.item._coverMenu)return e;const{src:t,srcAdvanced:i}=this.props.item._coverMenu;return e.backgroundImage=`url(${m(t,i,!0)})`,e},renderElements(e){return u("menuItem",e,{item:this.props.item})},render(){return l.createElement("div",{id:this.props.item._id,name:"menu item",className:c("ev-menu-item-container",{"ev-is-current-item":this.props.isCurrentItem}),style:this.getItemStyle()},h(this.props.item,"menuitem"),l.createElement("div",{className:`ev-menu-item ev-collection-item ev-menu-item-${this.props.item._id}`},this.renderElements("root"),l.createElement("div",{className:"ev-menu-item-inner ev-collection-item-inner"},l.createElement("div",{className:"ev-collection-item-content"},l.createElement("div",{className:"ev-collection-item-content-inner ev-clearfix"},this.renderTitle(),this.renderBody(),this.renderDuration(),this.renderElements("content"))),l.createElement("div",{className:"ev-collection-item-aside"},l.createElement("div",{className:"ev-collection-item-aside-inner"})),l.createElement("div",{className:"ev-collection-item-footer"},l.createElement("div",{className:"ev-collection-item-footer-inner ev-clearfix"},this.renderProgress(),this.renderLink())))))}});e.exports=_(b)},26691:(e,t,i)=>{const{registerMenu:s}=i(90876);s("coverMenu",i(41263))}}]);